# 账户体系

账户体系是支付交易的基础，就像电池对于手机，油罐对于加油站，心脏对于人体？那么这么核心的系统是不是很难设计呢，其实恰恰不难；这也印证了那样一句话“大道至简”

一、什么是账户

我们先看看标准定义：账户是根据会计科目设置的，具有一定格式和结构，用于反映会计要素的增减变动情况及其结果的载体。

增减变动的会计分录的书写规范：

账户结构规范：

账户的基本结构应同时具备以下内容：

账户的名称，即会计科目；日期和摘要，即记载经济业务的日期和概括说明经济业务的内容；增加方和减少方的金额及余额；凭证号数，即说明记载账户记录的依据。财务知识不是很充足的同学可能对以上的账户定义很难理解和绕口；我们从业务的角度来看账户，后面的电子账户我们都会从业务角度去看，抛弃财务视角。

从业务视角来看账户其实就是用于记录某个主体的某类型资金的余额以及余额变动明细的数据载体。

所以账户有3个关键的点：

账户余额：这个账户有多少钱账户流水：这个账户资金进进出出的明细记录账户交易：怎么把钱放进去，怎么把钱取出来

![img](https://pics2.baidu.com/feed/8718367adab44aedda7cde8b1d7a9f09a18bfb1a.jpeg?token=6e9960d1fdf218ea7dbd8c29b39cb47c&s=7AAC3C628DE4680B1CFD91CE0000A0B1)

抓住了上面3个点我们基本就抓住了账户设计的核心了，是不是很简单

基于这3个点去构建账户的辅助设施，比如账户主体，账户种类，账户余额结构，账户流水的记录字段，账户的功能权限，账户的出入账，账户服务（账户开通注销，冻结解冻，余额流水查询等）等。

二、账户的种类

从财务科目分类来看内部账户，账户可以分资产类账户，负债类账户，损益类账户，共同类账户，然后就是不同的科目。

但是站在业务的视角，我们更多是基于业务场景来对账户进行命名，比如商户的结算款会结算到商户结算账户，支付公司在银行开的账户叫备付金账户，备付金账户又分存管户，收付户，汇缴户；个人账户，企业账户；会员子账户，商户子账户，中间担保户。

![img](https://pics6.baidu.com/feed/503d269759ee3d6d2f34405bf370752a4e4ade1b.jpeg?token=fd2d005e78ed7c40120d95c1f615f792&s=95A6753793D040604A4531FA02007032)

所以从账户命名上我们基本就知道了这个账户是干嘛用的；就像你有10张卡，一张是放工资的你叫他工资卡，一张是公积金的你叫公积金卡等等；所以这时候我们基于业务命名，目的是为了区分账户用途。

但是收回来我们发现，无论账户叫什么名字，都是有账户余额，账户流水，账户交易；无论卡叫什么名字都是银行卡；所以账户的本质属性不变，设计办法基本相通，唯一会有不同的是附属内容；比如支出户只能打款不能收款，中间担保户不能为负等等，权限不同，主体不同，交易特点不同…..

小样，你以为穿个马甲我就不认识你啦，你装钱的，能进能出，记得明明白白；别管你叫啥我都知道怎么设计，不管我叫你啥我都这么设计

三、账户的结构

账户结构：

![img](https://pics6.baidu.com/feed/574e9258d109b3de90e7016a7ed97489810a4cc2.jpeg?token=1577d4b4da06465ef9ec8308140e91af&s=192870321F1A444B54516CDE0000E0B2)

账户主体：

这个账户是谁的，个人的？企业的？内部业务线的？

账户结构树：

就像会计科目，就像商品类目，由于账户可能种类繁多所以有时也需要一个结构树，比如：

![img](https://pics7.baidu.com/feed/b219ebc4b74543a936024749b471928ab801148c.jpeg?token=e03201ce8a82305b348d3579e23380c1&s=B98A5D328471C580464432D20200A0A5)

账户类型：

账户的分类，比如个人账户/对公账户，结算账户/付款账户，收款账户/打款账户。

账户名称：

钱多少不重要，名字一定要有气质：陈老师全球通国际清算私房钱账户。

账户余额：

账户余额一般为了业务需要，会设计多个金额属性，比如冻结金额，可用金额，可提金额。

![img](https://pics2.baidu.com/feed/03087bf40ad162d99351a89bbcb9b1e48b13cd6d.jpeg?token=f7d610f55f4e566bca2e1b6d87192762&s=BD8A5D3214A887095C7AEFCD0200E0AF)

账户流水：

账户的资金变动记录，记录对手账户，收支方向，金额，费用类型等基本信息。

账户服务：

开通/关闭权限设置入账扣账调账冻结/解冻余额查询流水查询账户底线原则支付成功才入账，扣账成功才出款，一分不少真安全。

四、如何设计类型

账户名称，结算户，付款户，支出户。

原则：名称是便于区分业务，账户本质相同。

就像有的公司叫产品经理，有的公司就产品策划，有的公司叫需求分析师，但本质大家干的都是产品设计工作。

基于主体类型命名账户：个人账户，企业账户；基于业务类型命名账户：电商商家结算户，快递商家结算户；基于资金属性命名账户：工资账户，公积金账户，手续费账户；基于账户职能命名账户：待清算账户，中间担保账户；等等。现在应该清楚设计账户时如何给账户命名了吧，简单易记，容易区分。

五、账户的附属设施

有了电池是不是还需要充电线，有了油罐是不是还得有加油设备，安全设备；同样有了账户是不是还得有附属模块才能实现账户的资金管理职能。

费用类型：

每笔交易都有业务场景，比如下单付款，投诉罚款，用户充值，余额提现，账户年费等等，一个是为了让用户知道这是笔什么交易，另一个就是财务能够知道编写什么科目的会计凭证。

![img](https://pics7.baidu.com/feed/b21bb051f8198618c2dd8c58e08b367b89d4e6c7.jpeg?token=b7ab52ae8c513b982954ae9e848aeba3&s=5A283463CD226D205E5504DA000080B1)

入账规则：

上游有业务系统比如账务系统请求一笔费用的入账，那么如那个账户呢，收支方向如何呢？所以入账规则就是来确定这笔入账怎么入的问题，规则主要有2部分组成。

![img](https://pics7.baidu.com/feed/a71ea8d3fd1f413433b37c0c89798dc2d0c85eae.jpeg?token=ac7b14daf5ca19b72b11b2b4fd97b6aa&s=7CAC3472135254630AFDC1DA0000C0B1)

![img](https://pics0.baidu.com/feed/2934349b033b5bb5b497057687b5cd31b700bc60.jpeg?token=002cf9c9a91bea3a318301e9969dcd0f&s=1CA87C32414F554940ED05DA000080B2)

冻结规则：

有些费用入账后是需要暂时冻结的，比如用户领的活动奖金，必须在冻结7个工作日之后才能解冻；某业务线的商家结算收入，统一在次月15号可提走，所以一条入账规则需要关联一个冻结规则。

![img](https://pics7.baidu.com/feed/ac4bd11373f08202e0adc8b2fa9de3e5aa641bea.jpeg?token=d9c2511c22cc1afceb3d715fbd15d786&s=7EA834630B625D200CD5E4DA000080B1)

![img](https://pics3.baidu.com/feed/0bd162d9f2d3572cc8b32f7c3a757b2f63d0c3a8.jpeg?token=9a28b398677b96c67492fec516ad05f2&s=3DA8743293FB442A0EFC95CA0000D0B2)

费用/入账规则/冻结规则关系：

一个费用入账时，可能记一笔账，也可能记多笔；比如商户佣金费用，则会入两笔账：成本账户入一笔扣款，商家佣金账户入一笔收入；而扣款不用冻结，收入需要冻结7天。

![img](https://pics1.baidu.com/feed/6159252dd42a28346053388cf7d3d1e214cebf2a.jpeg?token=ccd2febbdfc8aabd3b745a41b1d3022a&s=E88A5732CE40950943531EDC020030AF)

对外服务：

任何系统都不是孤岛，账户系统同样，要将能力赋能给上游实现自己的价值；账户向外提供的服务基础的应该包含：开户，注销，查询（余额，流水，状态），交易（支付，退款，充值，提现，冻结）等。

![img](https://pics7.baidu.com/feed/a8773912b31bb05130f9fd14991cc2bc4bede098.jpeg?token=cec8ca9f3fdb613012a028a9f018de81&s=58A834720684F51B8AD3ABC70200B0A7)

账户管理后台：

账户系统需要提供一个业务后台给到相关的运营人员，财务等角色；后台可以查看所有的账户以及账户的状态，所属主体以及余额情况，还可以操作账户进行注销。

还需要能够查看所有的出入账流水，配置相关费用，配置入账规则和冻结规则。

![img](https://pics4.baidu.com/feed/0ff41bd5ad6eddc4ce74f2b494bdaef553663358.jpeg?token=5b2915e8ceeb1f10adf0853e577743ba&s=F58A5F3878F7C08A874E3FDA0200C0BC)

六、账户系统架构图

功能架构：

![img](https://pics3.baidu.com/feed/10dfa9ec8a136327d7085c6222e9b8e409fac76d.jpeg?token=7cbd68d11465763037b7dbdddf921487&s=66C2F0124A9E44CA0CFC35D30300D0B3)

业务架构：

![img](https://pics4.baidu.com/feed/d4628535e5dde711b053d4bc0889d6139c166161.jpeg?token=ddff824bf8288ace8de136c1a7a2a3f2&s=F0BA25728D18FC0B4641015A0200C0F2)

七、账户入账流程图

![img](https://pics4.baidu.com/feed/8b82b9014a90f603bccdc4c98874ab13b151edaa.jpeg?token=a6fad63ae5f18a483a8f95e211d9522d&s=58883472115F61CA485CD5CA0000E0B1)

八、账户系统后台

上面基本已经很清楚了，账户系统后台页面文章不再详述。

九、账户的应用

账户除了管钱之外还可以在此之上构建一些应用产品，比如下面这两个：

钱包：像微信钱包，就是用户的一个虚拟账户，在钱包里可以看到余额，可以充值余额，也可以将余额里的钱提现到银行卡；余额支付：账户可以作为一种支付方式，包装出一个支付通道，利用平台自己的账户进行平台商品的购买支付，当然这个要考虑合规性。

十、合规浅谈

果然最后说的都是重头戏，账户作为一种资金池形态，要严格做好其合规性，如果平台没有资质牌照，那么自建可以但是用户账户的真实资金一定要放到监管账户当中进行监管，避免违规沉淀资金池，其他合规风险读者朋友们自己思考一下吧。