

开源框架

https://gitee.com/big_data_cd/data_cube/tree/master/drools/src/main/java/com/creditfamily/ruleEngine/drools

https://zhuanlan.zhihu.com/p/58228797

https://b-ass.org/

https://error.taobao.com/app/tbhome/common/error.html?c=404&u=http://jm.taobao.org/page/46/&r=

https://toutiao.io/subjects/108495?page=2

http://38.103.161.228/forum/forum-322-413.html

http://www.gapeandfist.com/22752-legalporno-giorgio-grandi-ninfo-animal-milf-edition-brittany-bardot-and-isabella-lui-squirting-anal-fisting-dap-gapes-buttrose-gio1468.html

https://ntorrents.net/PerverseFamily+E22+Dirty+Family+Orgy+XXX+21

https://www.yuque.com/noobwo/mq

https://gitee.com/consolelog/lightweight-mysql-migrate-tools/tree/master/mysql-migrate/src/main/java/cn/codeforfun/migrate/core

https://segmentfault.com/u/crazyhzm

https://segmentfault.com/a/1190000023383256?utm_source=tag-newest



https://blog.csdn.net/weixin_47067712/article/details/106522673

https://www.oschina.net/p/springboot-mqrpc

https://my.oschina.net/u/3494859/blog/5018189

https://my.oschina.net/u/4662964/blog/5016665

https://www.cnblogs.com/veblen/p/10992167.html

https://xw.qq.com/cmsid/2017072501353700

https://zhuanlan.zhihu.com/p/26118810

https://www.cnblogs.com/nocode/tag/MYSQL/

https://blog.csdn.net/weixin_39613561/article/details/113294106



https://www.jb51.net/article/161758.htm



http://t.zoukankan.com/xuzekun-p-7586765.html

https://www.cnblogs.com/tong-yuan/p/10884421.html

https://www.zhihu.com/question/55141871/answer/143053269



https://www.zhihu.com/question/26677313

https://blog.csdn.net/qq_34555905/article/details/110946192

https://my.oschina.net/u/3867294/blog/3089014

https://my.oschina.net/u/4455409/blog/5044813

https://www.deathearth.com/

https://www.deathearth.com/

http://c.biancheng.net/view/3146.html

https://codechina.csdn.net/explore

https://www.cnblogs.com/peter316/p/6287212.html

https://github.com/jaywcjlove/linux-command



https://zhuanlan.zhihu.com/p/366395817

https://www.pianshen.com/article/9634859649/

https://blog.csdn.net/baichoufei90/article/details/85209182

https://cloud.tencent.com/developer/article/1038435



https://www.mibaoge.com/paihangbang/

https://blog.csdn.net/slivelight/article/details/107869465

https://www.oschina.net/news/141269/xk-time-3-1-0-released

https://gitee.com/yu120/neural#11-jdk%E4%B8%ADspi%E7%BC%BA%E9%99%B7

https://gitee.com/jd-platform-opensource/asyncTool

https://my.oschina.net/u/4455409/blog/4833539

https://blog.csdn.net/significantfrank/article/details/101095292

https://www.oschina.net/p/stock-job-web

https://www.vixen.com/videos

https://ixyzero.com/blog/archives/4270.html

https://blog.csdn.net/weixin_42549663/rss/list

http://www.woshipm.com/pd/2762835.html

https://gitee.com/aalansehaiyang/risk-talk/blob/master/README.md

https://my.oschina.net/u/4007037/blog/3106378









[![CSDN首页](https://img-home.csdnimg.cn/images/20201124032511.png)](https://www.csdn.net/)







- [首页](https://www.csdn.net/)
- [博客](https://blog.csdn.net/)
- [专栏·视频](https://edu.csdn.net/)
- [下载](https://download.csdn.net/)
- [论坛](https://bbs.csdn.net/)
- [问答](https://ask.csdn.net/)
- [代码](https://codechina.csdn.net/?utm_source=csdn_toolbar)
- [直播](https://live.csdn.net/?utm_source=csdn_toolbar)
- [能力认证](https://ac.csdn.net/)
- [社区](https://www.csdn.net/c/)

 

[![img](https://profile.csdnimg.cn/D/B/6/2_yangjava2014)](https://blog.csdn.net/yangjava2014)

[会员中心](https://mall.csdn.net/vip)

[收藏](https://i.csdn.net/#/user-center/collection-list?type=1)

[动态](https://blog.csdn.net/nav/watchers)

[消息](https://i.csdn.net/#/msg/index)

[创作中心](https://mp.csdn.net/)

# Java开源数据库分类列表整理

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/reprint.png)

[自己的旧年旋律](https://blog.csdn.net/qq_34377122) 2018-04-27 16:25:08 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png) 2944 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png) 收藏 1

分类专栏： [数据库](https://blog.csdn.net/qq_34377122/category_7625894.html) 文章标签： [数据库](https://www.csdn.net/tags/NtzaUgysMTg1NC1ibG9n.html) [java](https://www.csdn.net/tags/NtTaIg5sMzYyLWJsb2cO0O0O.html) [开源](https://so.csdn.net/so/search/s.do?q=开源&t=blog&o=vip&s=&l=&f=&viparticle=)



####  HSQLDB 

HSQLDB(Hypersonic SQL)是纯Java开发的关系型数据库,并提供JDBC驱动存取数据。支持ANSI-92 标准 SQL语法。而且他占的空间很小。大约只有160K,拥有快速的数据库引擎。

[更多HSQLDB信息](https://blog.csdn.net/qq_34377122/article/details/open9510.htm)

####  Axion 

Axion是一个小型,快速,开源的关系型数据库系统(RDBMS)支持标准SQL与JDBC。它主要应用在Java程序中。

[更多Axion信息](https://blog.csdn.net/qq_34377122/article/details/open16510.htm)

####  db4o 

- 完全原生于Java和.NET
- 100% 面向对象, 抛开对象-关系映射
- 为嵌入式应用优化
- 开源,可以基于GPL协议免费使用.
  中文资源社区：http://www.db4o.com/china?src=cn
- [更多db4o信息](https://blog.csdn.net/qq_34377122/article/details/open16610.htm)

####  Mckoi DataBase 

MckoiDDB 全称为Mckoi Distributed Database，它是基于Java 1.6开发的一种分布式数据库系统，采用100%纯Java编写，可以运行在任何操作系统上。MckoiDDB对小数据集与大数据集都有很好的支持。

[更多Mckoi DataBase信息](https://blog.csdn.net/qq_34377122/article/details/open36110.htm)

####  QED 

QED(Quadcap Embeddable Database)是一个速度快，但很小的纯java关系型数据库。支持SQL92标准，支持事务回滚。QED可以任意免费使用。

[更多QED信息](https://blog.csdn.net/qq_34377122/article/details/open36210.htm)

####  yaRDBMS 

yaRDBMS (yet another relational database management system) 也是一个基于java的关系型数据库。支持事务，查询优化，灾难性恢复，索引支持。

[更多yaRDBMS信息](https://blog.csdn.net/qq_34377122/article/details/open36310.htm)

####  Apache Derby  

Apache Derby 是一种高质量的、纯 Java™ 的嵌入式关系数据库引擎，IBM® 最近已将其捐献给开放源码社区。Derby 数据库基于文件系统，具有高度的可移植性，并且是轻量级的，这使得它非常便于发布。

[更多Apache Derby 信息](https://blog.csdn.net/qq_34377122/article/details/open36410.htm)

####  One$DB 

Daffodil DB Java嵌入式数据库是一个独立平台且功能丰富的Java关系数据库管理系统。能提供多级连接是针对嵌入式的Java应用程序而设计。Daffodil DB嵌入式数据库可以在Java程序内直接集成，并且对终端用户是完全透明的。Daffodil DB 嵌入式数据库版本具有微小的内存耗用，提供全面的安全功能且无需管理。Daffodil DB嵌入式数据库版可与SQL 99, JDBC 3.0 和 J2EE标准兼容。

[更多One$DB信息](https://blog.csdn.net/qq_34377122/article/details/open36510.htm)

####  TinySQL 

TinySQL是一个轻量级的纯java数据库引擎，同时也再带一个jdbc驱动。

[更多TinySQL信息](https://blog.csdn.net/qq_34377122/article/details/open36610.htm)

####  SMYLE 

SMYLE 一个基于 LGPL 的高可靠性、高性能 Java 数据库，能够处理 100,000 行的表，支持多维索引、事务处理、崩溃及时恢复等特性。SMYLE 可以嵌入到应用中，不需要单独安装发布。

[更多SMYLE信息](https://blog.csdn.net/qq_34377122/article/details/open44410.htm)

####  JavuSQL 

JavuSQL（原先叫SimpleSQL）是一个非常小关系型数据库。包括JDBC驱动只有200kB左右，数据存储在一个64-bit的文件中。SQL语法支持SQL-92标准。

[更多JavuSQL信息](https://blog.csdn.net/qq_34377122/article/details/open80010.htm)

####  Ashpool 

Ashpool是一个Java开发的轻量级XML数据库。它的目的是可以使用标准的SQL92语法通过一个JDBC驱动来查询，新增，更新和删除XML文档.

[更多Ashpool信息](https://blog.csdn.net/qq_34377122/article/details/open80110.htm)

####  dbXML 

dbXML是一个Native XML数据库.它能够索引和存储XML文档集合.这个服务器还以脚本,类和触发器的形式来提供商业逻辑.

[更多dbXML信息](https://blog.csdn.net/qq_34377122/article/details/open80210.htm)

####  Ozone 

ozone是一个面向对象的数据库管理系统完全用Java实现.ozone项目的目的是让开发者可以构建一个纯面向对象,纯Java的数据库应用程序.ozone还可以用来存储XML,可以用任XML工具来访问这些数据.

[更多Ozone信息](https://blog.csdn.net/qq_34377122/article/details/open80310.htm)

####  eXist 

eXist是一个开源的native XML数据库.它有依据索引的XQuery处理程序,可以自动进行索引,扩展的全文本搜索,XUpdate支持并且它与现存的XML开发工具可以紧密的结合在一起.

[更多eXist信息](https://blog.csdn.net/qq_34377122/article/details/open80410.htm)

####  Emdros 

Emdros是一个text数据库可以用来分析/注解(analyzed/annotated)文本.Emdros有自己的强大查询语言用来进行查询,新增,修改,删除操作.

[更多Emdros信息](https://blog.csdn.net/qq_34377122/article/details/open80510.htm)

####  JDBF 

JDBF是基于JDBC的对象-关系映射系统.它需要一个叫做repository的XML配置文件用来映射对象.它生成SQL来取得,保存,删除对象.

[更多JDBF信息](https://blog.csdn.net/qq_34377122/article/details/open80710.htm)

####  Berkeley DB JE 

Berkeley DB JE是一个高性能的事务存储引擎完全利用Java开发.Berkeley DB JE在应用程序的地址空间(address space)上执行,不需要进行服务端与客户端的通讯.它应用程序的原生格式来存储格数据所以不需要在运时期进行数据的转换.Berkeley DB JE完全支持ACID事务与恢复.
![img](http://www.open-open.com/image/Berkeley_DB.gif)

[更多Berkeley DB JE信息](https://blog.csdn.net/qq_34377122/article/details/open81310.htm)

####  Mondrian 

Mondrian是一个OLAP数据库.它实现了MDX语言,XML解析,JOLAP规范.它从SQL和其它数据源读取数据并把这数据聚集在内存缓存中.

[更多Mondrian信息](https://blog.csdn.net/qq_34377122/article/details/open81410.htm)

####  Apache Xindice 

Apache Xindice也是一个Native-XML数据库(NXD).Xindice 提供了命令行界面来管理数据库。Xindice使用XPath做为它的查询语言与XML:DB XUpdate做为它的更新语言.

[更多Apache Xindice信息](https://blog.csdn.net/qq_34377122/article/details/open81510.htm)

####  JDOInstruments 

JDOInstruments是一个用Java开发的嵌入式面向对象数据库.它还实现了Sun的JDO规范用于Java对象的透明持久化.它可运行在 windows2000, windows2003 64bits,和Linux(Fedora Core2)平台上.

[更多JDOInstruments信息](https://blog.csdn.net/qq_34377122/article/details/open116610.htm)

####  H2 

H2是一个采用Java开发开源的嵌入式SQL数据库。它支持集群，提供JDBC和部分ODBC API,采用C/S模型。它还包括一个用于管理数据库的Web客户端。

[更多H2信息](https://blog.csdn.net/qq_34377122/article/details/open128510.htm)

####  RETE-DB 

RETE-DB是一个可定制多用户Web数据库。RETE-DB与其它多功能的internet数据库相比较Speed,security和scalability是它显著的优点。 RETE-DB的特点包括：
 基于Group的访问控制思想。
 安全性：可对每一条记录，每一个字段定义访问权限。
 快速:经测试当处理数万条记录时，它还能跑得异常快。
 可量测性(Scalability):多个分布式RETE-DB实例能够平行地运行在相同的数据库上。
 数据的每一次变化都将被记录，甚至包括RETE-DB管理操作变化的记录。
 导入/导出：搜索得到的结果能够被导出到电子表格中也能够把电子表格的数据类型记录导到数据库中。

[更多RETE-DB信息](https://blog.csdn.net/qq_34377122/article/details/open131810.htm)

####  Perst 

Perst是一个简单，快速，便捷，面向对象适合Java与.NET的数据库。Perst不需要专门的编译器或与预处理器，并且支持ACID事务。

[更多Perst信息](https://blog.csdn.net/qq_34377122/article/details/open135510.htm)

####  SmallSQL 

SmallSQL是一个100%纯Java的DBMS,一个用于Java桌面应用程序的嵌入式关系型数据库。它有一个JDBC3.0接口并提供许多ANSI SQL92和ANSI SQL99特性。SmallSQL非常小而且快速因为它没有网络接口。

[更多SmallSQL信息](https://blog.csdn.net/qq_34377122/article/details/open142810.htm)

####  MyOODB 

MyOODB是一个面向对象数据库,真正快速的分布式数据库,支持真正的分布式对象,支持真正的分布式事务,支持隐式/显式事务, 支持无缝高速Web服务访问,支持数据库自我恢复,支持多个并发嵌套事务并且数据库大小只占磁盘很小的空间。集合MyOOWEB和MyOOSDK能为开发快速，很小但又强大的App/Web应用程序提供一个平台。

[更多MyOODB信息](https://blog.csdn.net/qq_34377122/article/details/open148310.htm)

####  Metanotion BlockFile 

BlockFile一个100%纯Java，轻量级，单个文件嵌入式数据库。它的功能介于SQLite与BerkeleyDB之间。专门为PDA和Mobile应用程序而开发。

[更多Metanotion BlockFile信息](https://blog.csdn.net/qq_34377122/article/details/open166910.htm)

####  JODB 

JODB是一个面向对象开源数据库。该数据库使用缓存机制来避免占用太多内存。在查询时也尽可能减少实例化对象以避免进行过多地垃圾收集。

[更多JODB信息](https://blog.csdn.net/qq_34377122/article/details/open198810.htm)

####  NeoDatis ODB 

NeoDatis ODB是一个面向对象数据库，一个真正透明的对象持久层。利用一行简单的代码就能够持久化native object。ODB非常简单、非常快并自带强大查询语言。ODB既可以做为一个内嵌数据库引擎使用，也可以以C/S模式运行。
![img](http://www.open-open.com/projectimage/summary.gif)

[更多NeoDatis ODB信息](https://blog.csdn.net/qq_34377122/article/details/open206410.htm)

####  BaseX 

BaseX是一个原生XML数据库。它具有简洁的存储结构，高效的XPath和XQuery实现和一个用于操作存储数据的可视化前台操作界面。

[更多BaseX信息](https://blog.csdn.net/qq_34377122/article/details/open209010.htm)





####  FeatherDB 

FeatherDB是一个采用Java开发基于JSON的Document数据库，是 [CouchDB](http://incubator.apache.org/couchdb/)的一个克隆。它拥有一个完整的HTTP/REST接口，支持通过Java类或JavaScript（使用java6的JavaScript支持）实现查询。FeatherDB使用嵌入的Jetty HTTP服务器来处理所有交互。

[更多FeatherDB信息](https://blog.csdn.net/qq_34377122/article/details/open215710.htm)

####  hamsterdb-java 

hamsterdb-java是hamsterdb嵌入式数据库的一个Java封装。hamsterdb是一个采用C开发，非常快，轻量级的嵌入式数据库引擎。

[更多hamsterdb-java信息](https://blog.csdn.net/qq_34377122/article/details/open219510.htm)

####  Neo 

Neo是一个图形数据库（graph database）。它是一个可嵌入，基于磁盘的Java持久化引擎，其数据存储采用图形结构来代替表格。一张graph就是一种网状的结构图更适合于敏捷、快速开发。特性：能够以直观，面向图形的方式展示数据，网状结构图由节点，关联和属性组成。Neo能够在单一计算机上处理几十亿个节点，关联和属性。一个强大的横向移动框架能够在节点空间中快速横向移动。整个Neo大小还不到500k。拥有简单、便利、面向对象的API。此外Neo包括一些数据库固有的特性：ACID事务支持，数据持久化, 并行控制, 事务恢复等。

[更多Neo信息](https://blog.csdn.net/qq_34377122/article/details/open220110.htm)

####  xbird 

XBird是一个轻量级的XQuery处理器和Native XML数据库引擎，嵌入式数据库引擎，分布式XQuery处理器。此外XBird还支持HTML Web页面抓取（scraping） 。

[更多xbird信息](https://blog.csdn.net/qq_34377122/article/details/open222910.htm)

####  ChaiDB 

ChaiDB是一个采用Java开发的高性能嵌入式数据库。使用B-Tree实现数据存储，提供JCA，JTA接口，数据库管理工具比如：备份与还原等。

[更多ChaiDB信息](https://blog.csdn.net/qq_34377122/article/details/open242310.htm)

####  HeliDB 

HeliDB是一个简单、快速的数据库，用于存储来自Java程序的key—value成对数据。可以通过配置来使该数据库支持不同的功能和存储方式。最简单的配置情况下，该数据库只是一个基于文件的Map，更复杂的配置，该数据库将使用B+树数据结构来提供快速搜索、新增和事务支持。

[更多HeliDB信息](https://blog.csdn.net/qq_34377122/article/details/open248210.htm)

####  SQLJet 

SQLJet是一个采用纯Java实现的SQLite数据库。数据库格式与SQLite3.6相兼容。并提供API让Java程序可以创建、读取和修改SQLite数据库。

[更多SQLJet信息](https://blog.csdn.net/qq_34377122/article/details/open252710.htm)

####  HBase 

HBase是一个分布式的、面向列的开源数据库，该技术来源于Chang et al所撰写的Google论文“Bigtable：一个结构化数据的分布式存储系统”。就像Bigtable利用了Googl文件系统（File System）所提供的分布式数据存储一样，HBase在Hadoop之上提供了类似于Bigtable的能力。HBase是Apache的Hadoop项目的子项目。HBase不同于一般的关系数据库,它是一个适合于非结构化数据存储的数据库.另一个不同的是HBase基于列的而不是基于行的模式。HBase使用和Bigtable非常相同的数据模型。用户存储数据行在一个表里。一个数据行拥有一个可选择的键和任意数量的列。表是疏松的存储的，因此用户可以给行定义各种不同的列。HBase主要用于需要随机访问，实时读写你的大数据（Big Data）。

[更多HBase信息](https://blog.csdn.net/qq_34377122/article/details/open254510.htm)

####  Itzam/Java 

Itzam/Java是嵌入式数据库引擎Itzam的一个纯Java实现。它能够操作由Itzam/Core创建的文件。虽然Itzam/Core是用C++和Python等语言编写的基本封装，但Itzam/Java也兼容由这些语言编写的类库。

[更多Itzam/Java信息](https://blog.csdn.net/qq_34377122/article/details/open259110.htm)

####  Orient DB 

Orient DB是一个轻量级、便携、快速的文档数据库。支持ACID事务、索引、同步查询、SQL Layer和聚类等。
![orientdb-studio-query-small.png](http://www.open-open.com/projectimage/orientdb-studio-query-small.png)

[更多Orient DB信息](https://blog.csdn.net/qq_34377122/article/details/open266610.htm)

####  TreapDB 

TreapDB 是一个基于 [Treap](http://en.wikipedia.org/wiki/Treap)算法（一种随机二叉搜索树）开发的 Key/Value 数据存储的数据库。兼容memcached协议。

收录时间：2010-12-02 23:10:26

[更多TreapDB信息](https://blog.csdn.net/qq_34377122/article/details/open289510.htm)

####  Mulgara 

Mulgara是一个完全采用Java开发，可扩展的RDF数据库。



收录时间：2010-12-24 09:08:34

[更多Mulgara信息](https://blog.csdn.net/qq_34377122/article/details/open294210.htm)

####  InfoGrid 

InfoGrid is a Web Graph Database with a many additional software components that make the development of REST-ful web applications on a graph foundation easy.InfoGrid is open source, and is being developed in Java as a set of projects:

收录时间：2010-12-29 23:02:14

[更多InfoGrid信息](https://blog.csdn.net/qq_34377122/article/details/open295210.htm)

####  FlockDB 

FlockDB是一个存储图数据的分布式数据库，图数据库的存储对象是数学概念图论里面的图，而非图片。Twitter使用它来存储人与人之间的关系图，这些关系包括：你在关注谁，谁在关注你，谁给你留了电话提醒等。FlockDB可用于支持：高速增/册/改操作。在线数据迁移。对包含数百万条目的查询结果进行分页。超大规模邻接矩阵查询。将数据进行归档，允许之后被恢复。

收录时间：2011-01-18 14:10:36

[更多FlockDB信息](https://blog.csdn.net/qq_34377122/article/details/open300510.htm)

####  BabuDB 

BabuDB是一个嵌入式非关系型数据库系统。其精益和简单的设计使得在持久化存储大量键值对时不会像BerkeleyDB的复杂做法和产生大的开销。它的特性：支持超出系统主存的大型数据库，高效崩溃恢复，快照和异步转储，前缀和范围查找等。

收录时间：2011-02-18 08:58:51

[更多BabuDB信息](https://blog.csdn.net/qq_34377122/article/details/open305710.htm)

####  BlobDB 

BlobDB是一个JDBC/SQL数据库引擎或一个数据源网关（数据存储、数据库、文件）。BlobDB可用于下列模式：
1、作为一个数据库服务器，在这种模式下BlobDB必须嵌入到一个Web应用程序中并且BlobDB的内置Web Service必须启用，同样还需要创建WsAuthenticationInterface认证的一个实现。
2、或者可以作为Java应用程序中的一个嵌入式数据库。

收录时间：2011-02-24 20:58:35

[更多BlobDB信息](https://blog.csdn.net/qq_34377122/article/details/open307610.htm)

####  VoltDB 

VoltDB是内存数据库，专注于在线事务处理系统(OLTP)的应用，如果你对数据库访问很高，并且每次处理数据都不大，那么它是非常适合的，但是如果你的系统没什么性能瓶颈，那不建议考虑VoltDB，如果你是数据仓库应用，VoltDB也是不适合的。

VoltDB是Postgres和Ingres联合创始人Mike Stonebraker领导开发的下一代开源数据库管理系统。它能在现有的廉价服务器集群上实现每秒数百万次数据处理。VoltDB大幅降低了服务器资源 开销，单节点每秒数据处理远远高于其它数据库管理系统。不同于NoSQL的key-value储存，VoltDB能使用SQL存取，支持传统数据库的 ACID模型。VoltDB代码采用GPLv3授权。

收录时间：2011-05-26 22:09:35

[更多VoltDB信息](https://blog.csdn.net/qq_34377122/article/details/open328210.htm)

> 【转 资源来自网络】



- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUp.png)点赞
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarComment.png)评论](https://blog.csdn.net/qq_34377122/article/details/80109749#commentBox)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarShare.png)分享](javascript:;)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png)收藏1](javascript:;)
- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarReport.png)举报
- [关注](javascript:;)
- 一键三连

<iframe src="https://kunpeng-sc.csdnimg.cn/?timestamp=1623163941/#/preview/7352?positionId=58&amp;queryWord=&amp;spm=1001.2101.3001.5002" frameborder="0" width="100%" height="75px" scrolling="no" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal;"></iframe>

![img](https://kunyu.csdn.net/1.png?p=58&a=4111&c=7352&k=&spm=1001.2101.3001.5002&d=1&t=3&u=169d6c2b601144d4b04bc0ff1c8ae2dd)

[三级*分类*带*数据库*带后台带*列表*菜单选择](https://download.csdn.net/download/greatwall_851/1514736)

07-24

[这是我根据网上总结的一个 三级*分类*程序 三级*分类*带*数据库*带后台带*列表*菜单选择 对于企业建站有很大用途](https://download.csdn.net/download/greatwall_851/1514736)





[![img](https://profile.csdnimg.cn/D/B/6/3_yangjava2014)](https://blog.csdn.net/yangjava2014)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentFlag@2x.png)

![表情包](https://csdnimg.cn/release/blogv2/dist/pc/img/emoticon.png)

相关推荐

[这款免费*开源*的*数据库*工具,支持所有主流*数据库*!_*Java*技...](https://blog.csdn.net/youanyyou/article/details/109396333)

5-13

[*Java*技术栈 www.*java*stack.cn 关注阅读更多优质文章 DBeaver 是一个基于 *Java* 开发,免费*开源*的通用*数据库*管理和开发工具,使用非常友好的 ASL 协议。可以通过官方网站或者 Github 进行下载。](https://blog.csdn.net/youanyyou/article/details/109396333)

[*Java*中8个顶级*开源*NoSQL*数据库*_henryzhang2009的专栏](https://blog.csdn.net/henryzhang2009/article/details/44879109)

5-6

[Perst是McObject的*开源*实现,双许可证,面向对象的嵌入式*数据库*系统(ODBMS)。它的一个版本是用*Java*开发的嵌入式*数据库*,另外一个用C#实现(对于Microsoft .NET Framework的应用而言)。 8.NeoDatis ODB ...](https://blog.csdn.net/henryzhang2009/article/details/44879109)

[*java**开源*论坛(完整版+*数据库*)](http://download.csdn.net/download/qq_22098033/10901052)

01-07

[最新的论坛代码。几乎包含了论坛的所有功能 *数据库*也放在包里面了。使用的话 导入项目即可。不可错过的好项目。. 附带*数据库*和帮助文档](http://download.csdn.net/download/qq_22098033/10901052)

[*java* *数据库*实现（设计模拟DBMS）](https://download.csdn.net/download/csdn1154366625/9829478)

04-30

[*java* *数据库*实现（设计模拟DBMS）](https://download.csdn.net/download/csdn1154366625/9829478)

[*Java* Web基础入门第五十八讲 *开源**数据库*连接池_李阿昀...](https://blog.csdn.net/yerenyuan_pku/article/details/52367491)

5-7

[*Java* Web基础入门第五十八讲 *开源**数据库*连接池 现在很多WEB服务器(Weblogic、WebSphere、Tomcat)都提供了DataSoruce的实现,即连接池的实现。通常我们把DataSource的实现,按其英文含义称之为数据源,数据源中都包含了*数据库*连接池的实现。](https://blog.csdn.net/yerenyuan_pku/article/details/52367491)

[*Java*免费*开源**数据库*、*Java*嵌入式*数据库*、*Java*内存*数据库*](https://blog.csdn.net/leiyinsu/article/details/8597680)

4-14

[HSQLDB(Hypersonic SQL)是纯*Java*开发的关系型*数据库*,并提供JDBC驱动存取数据。支持ANSI-92标准SQL语法。而且他占的空间很小。大约只有160K,拥有快速的*数据库*引擎。 Axion Axion是一个小型,快速,*开源*的关系型*数据库*系统(RDBMS)支持标准SQL...](https://blog.csdn.net/leiyinsu/article/details/8597680)

[图书管理系统（*Java* + Mysql）我的第一个完全自己做的实训项目](http://download.csdn.net/download/qq_35793285/10896342)

01-04

[图书管理系统 *Java* + MySQL 完整实训代码，MVC三层架构组织，包含所有用到的图片资源以及*数据库*文件，大三上学期实训，注释很详细，按照阿里巴巴*Java*编程规范编写](http://download.csdn.net/download/qq_35793285/10896342)

[*java**开源*论坛(完整版+*数据库*)](https://download.csdn.net/download/wyfspring/4490234)

08-10

[最新的论坛代码。几乎包含了论坛的所有功能 *数据库*也放在包里面了。使用的话 导入项目即可。不可错过的好项目。. 附带*数据库*和帮助文档](https://download.csdn.net/download/wyfspring/4490234)

[*Java**开源**数据库*管理工具_weixin_30483697的博客](https://blog.csdn.net/weixin_30483697/article/details/98033853)

4-30

[*Java**开源**数据库*管理工具 SQuirreL SQL Client SQuirreL SQL Client 是一个用 *Java* 编写的程序,它允许您查看*数据库*的内容、发出 SQL 命令,以及如您将看到的,执行许多其他功能。构建该图形化前端是为了支持兼容 JDBC 的*数据库*。](https://blog.csdn.net/weixin_30483697/article/details/98033853)

[*Java**开源*NoSQL*数据库*大全_tellenCN的专栏](https://blog.csdn.net/tellenCN/article/details/6634809)

4-29

[本文转自*Java**开源*大全,列举了与*Java*相关的NoSQL*数据库*,其中包括*Java*写成的,*Java*版本的,或者能与*Java*紧密结合的各种NoSQL*数据库*。对列举到的NoSQL都进行了比较详尽的描述。推荐给各位使用*Java*的朋友们。HBaseHBase是一个分布式的、面向列...](https://blog.csdn.net/tellenCN/article/details/6634809)

[*JAVA**数据库*JODB,*java* 原生PraparedStatement操作*数据库*](https://blog.csdn.net/weixin_39909212/article/details/115475978)

[weixin_39909212的博客](https://blog.csdn.net/weixin_39909212)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 4

[packagecom.csf.practicetest.core;import*java*.sql.Connection;import*java*.sql.DriverManager;import*java*.sql.PreparedStatement;import*java*.sql.ResultSet;/*** Created by fenglei.ma on 2018/4/18. 14:22*/public...](https://blog.csdn.net/weixin_39909212/article/details/115475978)

[DBeaver 基于*Java*的*开源**数据库*管理软件](https://blog.csdn.net/chy555chy/article/details/108801507)

[司马懿的西山居](https://blog.csdn.net/chy555chy)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 394

[常用的*数据库*管理软件 DBeaver *开源*免费，主流*数据库*基本都支持。基于*java*开发，驱动需要手动添加（在maven的repository目录下可以找到对应的驱动jar） Navicat Premium 最受欢迎的*数据库*开发工具，但需要付费或破解 SQLyog 只适用MySQL，外形类似 Vistual Studio MySQL-Front 只适用于MySQL，缺点是没有SQL语句提示 dbeaver简介 DBeaver是一款适用于开发人员，*数据库*管理员，分析师和所有需要使](https://blog.csdn.net/chy555chy/article/details/108801507)

[*java* *开源* 内存*数据库*_Berkeley DB *开源*的文件*数据库*](https://blog.csdn.net/weixin_39964833/article/details/114079874)

[weixin_39964833的博客](https://blog.csdn.net/weixin_39964833)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 16

[*开源*的文件*数据库*，介于关系*数据库*和内存*数据库*之间，按键值对方式存储下面是一个实例，是网上抄的，然后自己本机运行的package org;import *java*.io.File;import *java*.io.UnsupportedEncodingException;import *java*.util.concurrent.TimeUnit;import com.sleepycat.je.Databas...](https://blog.csdn.net/weixin_39964833/article/details/114079874)

[*开源**java**数据库*库](https://blog.csdn.net/weixin_30778805/article/details/95206734)

[weixin_30778805的博客](https://blog.csdn.net/weixin_30778805)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 45

[*开源*轻量级*java*关系*数据库*--hsqldb 转载于:https://www.cnblogs.com/qiumingcheng/p/5678479.html](https://blog.csdn.net/weixin_30778805/article/details/95206734)

[*Java*免费*开源**数据库*、*Java*嵌入式*数据库*、*Java*内存*数据库*](https://blog.csdn.net/iteye_18215/article/details/81958271)

[海纳百川，有容乃大](https://blog.csdn.net/iteye_18215)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 169

[HSQLDB HSQLDB(Hypersonic SQL)是纯*Java*开发的关系型*数据库*,并提供JDBC驱动存取数据。支持ANSI-92标准SQL语法。而且他占的空间很小。大约只有160K,拥有快速的*数据库*引擎。 Axion Axion是一个小型,快速,*开源*的关系型*数据库*系统(RDBMS)支持标准SQL与JDBC。它主要应用在*Java*程序中。 db4o 完全原生于*Java*和.NE...](https://blog.csdn.net/iteye_18215/article/details/81958271)

[对*数据库*查询出的数据进行分组归类](https://blog.csdn.net/weixin_36969570/article/details/81510403)

[黑仔的博客](https://blog.csdn.net/weixin_36969570)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 5565

[记录一个数据分组的方法： String groupCondition = "#";//"#"代表你查询实体类所对应*数据库*的属性名 List<Map> list = *Service.queryBy*();//根据某种条件查询处理的数据集 Map item;//声明供循环使用的对象 Map<String, List<Map>> result= new Ha...](https://blog.csdn.net/weixin_36969570/article/details/81510403)

[*java**数据库*类型_*Java*与*数据库*类型对照表](https://blog.csdn.net/weixin_29090677/article/details/114248505)

[weixin_29090677的博客](https://blog.csdn.net/weixin_29090677)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 53

[利用Python进行数据分析(13) pandas基础: 数据重塑/轴向旋转重塑定义 重塑指的是将数据重新排列,也叫轴向旋转. DataFrame提供了两个方法: stack: 将数据的列“旋转”为行. unstack:将数据的行“旋转”为列. 例如: 处理堆叠格式 ...安装使用ubuntu和opensuseliq...](https://blog.csdn.net/weixin_29090677/article/details/114248505)

[阿里巴巴关于*Java*重要*开源*项目汇总](https://hejunlin.blog.csdn.net/article/details/108673214)

[欢迎关注公众号：【码农突围】，公号后台回复9999，可以获取一份500页的LeetCode刷题笔记。](https://blog.csdn.net/hejjunlin)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 209

[1.分布式应用服务开发的一站式解决方案 Spring Cloud Alibaba Spring Cloud Alibaba 致力于提供分布式应用服务开发的一站式解决方案。此项目包含开发分布式应用服务的必需组件，方便开发者通过 Spring Cloud 编程模型轻松使用这些组件来开发分布式应用服务。 依托 Spring Cloud Alibaba，您只需要添加一些注解和少量配置，就可以将 Spring Cloud 应用接入阿里分布式应用解决方案，通过阿里中间件来迅速搭建分布式应用系统。 地址：https://](https://hejunlin.blog.csdn.net/article/details/108673214)

[*Java**开源**数据库*管理工具](https://blog.csdn.net/weixin_34290390/article/details/85569719)

[weixin_34290390的博客](https://blog.csdn.net/weixin_34290390)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 349

[SQuirreL SQL Client   SQuirreL SQL Client 是一个用 *Java* 编写的程序，它允许您查看*数据库*的内容、发出 SQL 命令，以及如您将看到的，执行许多其他功能。构建该图形化前端是为了支持兼容 JDBC 的*数据库*。 更多SQuirreL SQL Client 信息  iSQL-Viewer iSQL-Viewer是一个符合JDBC 2.x的...](https://blog.csdn.net/weixin_34290390/article/details/85569719)

[Derby入门](https://blog.csdn.net/numenZQ/article/details/861619)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 4543

[译者：曾巧(numenzq) 原文地址：http://www.vsj.co.uk/databases/display.asp?id=466源作者：Sing Li发布日期：2005-06-30 摘要    Derby是一个100%*Java**开源*的关系*数据库*，并且你不可轻视它。 正文    一般的应用程序都需要一个简单的存储和获得数据的方法。如果你长期开发](https://blog.csdn.net/numenZQ/article/details/861619)

[*开源**java**数据库*库](https://blog.csdn.net/weixin_33859504/article/details/86339346)

[weixin_33859504的博客](https://blog.csdn.net/weixin_33859504)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 22

[*开源*轻量级*java*关系*数据库*--hsqldb](https://blog.csdn.net/weixin_33859504/article/details/86339346)

[*JAVA*WEB-16：JDBC编程进阶(自定义数据源+*开源*数据源：DBCP、C3P0)](https://download.csdn.net/download/faith_yee/8557589)

04-02

[*JAVA*WEB-16：JDBC编程进阶(自定义数据源+*开源*数据源：DBCP、C3P0)](https://download.csdn.net/download/faith_yee/8557589)

[你了解世界上功能最强大的*开源**数据库*吗？](https://hello.blog.csdn.net/article/details/107473049)

[程序新视界](https://blog.csdn.net/wo541075754)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 518

[如果不是领导强制要求，可能根本不会留意到这款号称世界上功能最强大的*开源**数据库*——PostgreSQL。如果你不读这篇文章，或许也会错过一个跃跃欲试想挤进前三的优秀*数据库*。 为了能够熟练运用，特意买书研究，发现这款*数据库*还真有点意思。汇总一篇文章与大家分享，目的只有一个：让大家多少了解一下这款*数据库*。 你会发现与Mysql相比，PostgreSQL的社区并不活跃，中文资料可以说是少得可怜，在*数据库*中排行老四。前三都不一定全用过，谁会去记住老四呢。但下面的数据不得不让我们留意。 下面是DB-Engines*数据库*](https://hello.blog.csdn.net/article/details/107473049)

[2018年阿里巴巴关于*java*重要*开源*项目汇总](https://blog.csdn.net/qq_26676207/article/details/86222804)

[冷夜轩的博客](https://blog.csdn.net/qq_26676207)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 2706

[来源地址：segmentfault.com/a/1190000017346799 作者:阿里云云栖社区 (点击阅读原文前往) 1.分布式应用服务开发的一站式解决方案 Spring Cloud Alibaba Spring Cloud Alibaba 致力于提供分布式应用服务开发的一站式解决方案。此项目包含开发分布式应用服务的必需组件，方便开发者通过 Spring Cloud 编程模型轻松使用...](https://blog.csdn.net/qq_26676207/article/details/86222804)

©️2020 CSDN 皮肤主题: 编程工作室 设计师:CSDN官方博客 [返回首页](https://blog.csdn.net/)

- [关于我们](https://www.csdn.net/company/index.html#about)
- [招贤纳士](https://www.csdn.net/company/index.html#recruit)
- [广告服务](https://www.csdn.net/company/index.html#advertisement)
- [开发助手](https://plugin.csdn.net/)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/tel.png)400-660-0108
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/email.png)[kefu@csdn.net](mailto:webmaster@csdn.net)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/cs.png)[在线客服](https://csdn.s2.udesk.cn/im_client/?web_plugin_id=29181)
- 工作时间 8:30-22:00

- [公安备案号11010502030143](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502030143)
- [京ICP备19004658号](http://beian.miit.gov.cn/publish/query/indexFirst.action)
- [京网文〔2020〕1039-165号](https://csdnimg.cn/release/live_fe/culture_license.png)
- [经营性网站备案信息](https://csdnimg.cn/cdn/content-toolbar/csdn-ICP.png)
- [北京互联网违法和不良信息举报中心](http://www.bjjubao.org/)
- [网络110报警服务](http://www.cyberpolice.cn/)
- [中国互联网举报中心](http://www.12377.cn/)
- [家长监护](https://download.csdn.net/index.php/tutelage/)
- [Chrome商店下载](https://chrome.google.com/webstore/detail/csdn开发者助手/kfkdboecolemdjodhmhmcibjocfopejo?hl=zh-CN)
- ©1999-2021北京创新乐知网络技术有限公司
- [版权与免责声明](https://www.csdn.net/company/index.html#statement)
- [版权申诉](https://blog.csdn.net/blogdevteam/article/details/90369522)
- [出版物许可证](https://img-home.csdnimg.cn/images/20210414021151.jpg)
- [营业执照](https://img-home.csdnimg.cn/images/20210414021142.jpg)

[![img](https://profile.csdnimg.cn/3/2/E/3_qq_34377122)](https://blog.csdn.net/qq_34377122)

[自己的旧年旋律](https://blog.csdn.net/qq_34377122)

码龄5年[![img](https://csdnimg.cn/identity/nocErtification.png) 暂无认证](https://i.csdn.net/#/uc/profile?utm_source=14998968)







- 8002

  访问

- [![img](https://csdnimg.cn/identity/blog2.png)](https://blog.csdn.net/blogdevteam/article/details/103478461)

  等级

- 100

  积分

- 2

  粉丝

- 4

  获赞

- 1

  评论

- 6

  收藏

[私信](https://im.csdn.net/chat/qq_34377122)

关注

![img](https://csdnimg.cn/cdn/content-toolbar/csdn-sou.png?v=1587021042)

### 热门文章

- [微信公众号URL和Token配置验证 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 4275](https://blog.csdn.net/qq_34377122/article/details/82221224)
- [Java开源数据库分类列表整理 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 2942](https://blog.csdn.net/qq_34377122/article/details/80109749)
- [SpringMVC+Spring+mybatis+redis项目从零开始--redis缓存策略和配置实现 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 463](https://blog.csdn.net/qq_34377122/article/details/80108602)
- [基于Berkeley DB实现的持久化队列 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 113](https://blog.csdn.net/qq_34377122/article/details/80135497)
- [Redis数据库各个方面的知识 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 74](https://blog.csdn.net/qq_34377122/article/details/80119058)

### 分类专栏

- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Spring2篇](https://blog.csdn.net/qq_34377122/category_7625544.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64)springmvc2篇](https://blog.csdn.net/qq_34377122/category_7625646.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756930.png?x-oss-process=image/resize,m_fixed,h_64,w_64)mybatis2篇](https://blog.csdn.net/qq_34377122/category_7625647.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64)redis2篇](https://blog.csdn.net/qq_34377122/category_7625648.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756913.png?x-oss-process=image/resize,m_fixed,h_64,w_64)数据库2篇](https://blog.csdn.net/qq_34377122/category_7625894.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756923.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Berkeley DB1篇](https://blog.csdn.net/qq_34377122/category_7628288.html)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownWhite.png)

### 最新评论

- 微信公众号URL和Token配置验证

  [weixin_47392138: ](https://blog.csdn.net/weixin_47392138)能改下字体颜色吗

### 最新文章

- [微信公众号URL和Token配置验证](https://blog.csdn.net/qq_34377122/article/details/82221224)
- [基于Berkeley DB实现的持久化队列](https://blog.csdn.net/qq_34377122/article/details/80135497)
- [Redis数据库各个方面的知识](https://blog.csdn.net/qq_34377122/article/details/80119058)

[2018年5篇](https://blog.csdn.net/qq_34377122/article/month/2018/08)

![img](https://kunyu.csdn.net/1.png?p=57&a=2488&c=0&k=&spm=1001.2101.3001.5001&d=1&t=3&u=d0e8beef3d814aa4883c2c3d30fb9f18)



![img](https://g.csdnimg.cn/side-toolbar/3.0/images/guide.png)![img](https://g.csdnimg.cn/side-toolbar/3.0/images/kefu.png)举报

https://blog.csdn.net/InsZVA/article/details/51227691

[![CSDN首页](https://img-home.csdnimg.cn/images/20201124032511.png)](https://www.csdn.net/)

- [首页](https://www.csdn.net/)
- [博客](https://blog.csdn.net/)
- [专栏·视频](https://edu.csdn.net/)
- [下载](https://download.csdn.net/)
- [论坛](https://bbs.csdn.net/)
- [问答](https://ask.csdn.net/)
- [代码](https://codechina.csdn.net/?utm_source=csdn_toolbar)
- [直播](https://live.csdn.net/?utm_source=csdn_toolbar)
- [能力认证](https://ac.csdn.net/)
- [社区](https://www.csdn.net/c/)

 

[![img](https://profile.csdnimg.cn/D/B/6/2_yangjava2014)](https://blog.csdn.net/yangjava2014)

[会员中心](https://mall.csdn.net/vip)

[收藏](https://i.csdn.net/#/user-center/collection-list?type=1)

[动态](https://blog.csdn.net/nav/watchers)

[消息](https://i.csdn.net/#/msg/index)

[创作中心](https://mp.csdn.net/)

# 自己动手写数据库（一） 从SQL语句开始

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/original.png)

[InsZVA](https://blog.csdn.net/InsZVA) 2016-04-23 19:04:46 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png) 10996 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png) 收藏 12

分类专栏： [运维/数据库](https://blog.csdn.net/inszva/category_5986937.html) 文章标签： [数据库](https://www.csdn.net/tags/NtzaUgysMTg1NC1ibG9n.html) [sql](https://www.csdn.net/tags/MtTaEg0sMDg0OTctYmxvZwO0O0OO0O0O.html) [词法分析](https://www.csdn.net/tags/MtTaEg0sMDYwMDAtYmxvZwO0O0OO0O0O.html) [语法分析](https://www.csdn.net/tags/MtTaEg0sMDU5NjYtYmxvZwO0O0OO0O0O.html)

版权

# 自己动手写数据库（一） 从SQL语句开始

## 关于本教程

作者：InsZVA，浙江大学 软件工程系，也是第一次尝试写数据库，如有错误还望多多指正，写此篇文章也望有抛砖引玉的作用。
面向读者：有一定C语言基础。（其他知识会在教程中提到）

## 从SQL语句开始

对于数据库，我们最直观的概念或许就是在命令行中输入SQL语句来运行或者在PHP等语言中使用SQL语句进行增删改查。
![1-1](https://img-blog.csdn.net/20160423190310896)
我们这篇教程的目的就是做出像上图一样的数据库shell，支持语法错误定位，支持Create,Insert,Update,Delete,Drop等操作。

## 如何解析SQL

解析SQL，我们先想想SQL支持哪些语法呢，首先有一些关键字，像select之类，嗯，这个我用字符串匹配就可以解决，那么有个问题，create table
后面跟着的表名，他是一个由下划线、字母和数字组成的不定长的标识符，我该怎么识别呢？或许我可以识别到create和table之后，一直读读读，读到出现
空格、Tab、换行等分隔符为止？那么我该如何处理括号呢，有一定编程经验的可能会想到，使用栈（Stack）。对，这些都是ok的，然而如果遇到了and、or、not的
混合关系，优先级怎么处理呢？这些问题虽然使用朴素的读入字符串，判断都可以解决，但是对思维的要求很高，而且写出来的代码会是一堆if，这样出bug
很难调试，很难维护。
科学的姿势：使用状态机，状态机是什么呢，其实类似于把你的if语句存在了一个二维数组里面。我定义状态机DFA(x-(`char`)->y)，x,y代表状态（State)，`char`
代表如果当前状态是x，读入`char`的话就可以到达y状态。关于自动机，如何去从正则表达式生成自动机，以及有前人博客可以参考：[vczh的教程](http://www.cppblog.com/vczh/archive/2008/05/22/50763.html)

## SQL语法分析

看完轮子哥的词法分析教程，大概可以写出一个SQL语言的词法分析器了吧，这个词法分析器可以把输入的字符流转换成已经定义好的记号流，比如下图：
![1-2](https://img-blog.csdn.net/20160423190345365)
这里我们可以看到`select id,name from t1 where id=1`这条语句已经被转换成了记号流，keyword、split、identical之类。这个时候，我们对记号流进行解析就容易多了，
因为我们知道用户输入的每个单词都是什么了。那么现在，我们就可以愉快的分析语法了，语法我们大概使用如下的方式来分析（以该条语句为例）：第一个Token是`select`，交给
select处理器去处理，select处理器运行机制（读入Token时忽略空格符）：
\1. 读入第一个Token，如果不是`select`，报错
\2. 读入第二个Token，如果不是`identical`，报错
\3. 预读第三个Token，如果是`,`，那么进行第二步，否则第四步
\4. 读入下一个Token，如果不是`from`，报错
\5. 读入下一个Token，如果不是`identical`，报错
\6. 预读下一个Token，如果还有，交给where处理器处理剩下的流没有的话，被查询的表是5中的`identical`，查询的字段是2.3.中的
类似于这样的步骤，我们知道了用户输入的字节流到底是做什么的，当然关于这部分有疑问的话，可以看看这篇文章：[装配脑袋的教程](http://www.cnblogs.com/Ninputer/archive/2011/06/21/2085527.html)

## 附

文中出现的截图，都来自[Monkeydb2](https://github.com/InsZVA/Monkeydb2)，monkeydb2是个人的一个小项目，目前有1w行go语言代码，关于monkeydb2的SQL解析部分在：[SQL](https://github.com/inszva/monkeydb2/tree/master/sql)



- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUp.png)点赞7
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarComment.png)评论](https://blog.csdn.net/InsZVA/article/details/51227691#commentBox)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarShare.png)分享](javascript:;)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png)收藏12](javascript:;)
- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarReport.png)举报
- [关注](javascript:;)
- 一键三连

<iframe src="https://kunpeng-sc.csdnimg.cn/?timestamp=1623163941/#/preview/7352?positionId=58&amp;queryWord=&amp;spm=1001.2101.3001.5002" frameborder="0" width="100%" height="75px" scrolling="no" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal;"></iframe>

![img]()

[*数据库*需求分析如何*写*？](http://download.csdn.net/download/forst0408/1446943)

06-29

[前，无论是公司还是企业对于货物都实行了信息化管理，以提高管理水平和工作效率，同时也可以最大限度地减少手工操作带来的错误。于是，进销存管理信息系统便应运而生。在工厂中，产品的进销存涉及产品原料的采购、库存、投入生产、报损，甚至有时涉及到销售，同时，对于产品也有相应的生产、库存、销售、和报损等环节。在其他非生产性单位，如超市、商店等，则主要涉及到进货、库存、销售和报损4个方面。](http://download.csdn.net/download/forst0408/1446943)





[![img](https://profile.csdnimg.cn/D/B/6/3_yangjava2014)](https://blog.csdn.net/yangjava2014)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentFlag@2x.png)

![表情包](https://csdnimg.cn/release/blogv2/dist/pc/img/emoticon.png)

相关推荐

[*自己**动手**写**数据库*连接池_Senton](https://blog.csdn.net/Senton/article/details/83103271)

4-17

[在前面的文章中已经说过使用连接池的很多好处和优势,也曾讨论过怎么使用*数据库*连接池,不过那时用的都是别人*写*好的*一*些DataSource类。现在我们*自己*来*写**一*个*数据库*连接池,下面使用两种方法来实现,这里分别用到了两种设计模式,即Decorator(包...](https://blog.csdn.net/Senton/article/details/83103271)

[《*自己**动手**写*云盘》 – *数据库*设计_lzj1991lzj的专栏](https://blog.csdn.net/lzj1991lzj/article/details/84833534)

5-7

[《*自己**动手**写*云盘》中会涉及到两种*数据库*,*一*个是关系型*数据库*即My*SQL*,另*一*个是No*SQL**数据库*HBase,目前HBase中只存放到文件信息,其它信息放到My*SQL*中。*数据库*设计如下: My*SQL*中存放的表如下: ...](https://blog.csdn.net/lzj1991lzj/article/details/84833534)

[*自己*做的*数据库*笔记*（*很详细*）*](http://download.csdn.net/download/weixin_41307377/10470872)

06-10

[My*sql*时学习*数据库* 的基础，*一*定要打好基础，与之后的开发息息相关，不可轻视](http://download.csdn.net/download/weixin_41307377/10470872)

[micro-DB:*自己**动手**写**数据库*-基于Java语言的简易关系型*数据库*-源码](https://download.csdn.net/download/weixin_42128963/16220825)

03-30

[关系型DB*从*0到1——基于Java语言的简易*数据库* 本项目初步练习实现*一*个基于Java语言的简易关系型*数据库*，用于学习关系型*数据库**（*如My*sql**）*的设计理念，核心核心，基本算法。 涉及缓存，数据容量存储结构*（*B +树*）*，锁，事务，优化器，重做/撤消日志等核心原理。 1.关系数据结构基本定义 添加*数据库*，表，行，细分等基础定义 2.数据持久化 每*一*个表存储成为*一*个物理磁盘文件，通过表数据变多，*一*个表对应的物理磁盘文件可以无限变大，全部读取到内存中肯定是不可取的，编*写*程序时应每次磁盘IO读取*一*个数据块，操作系统与磁盘*一*般以4k为以页的单位来交互的，因此我们读*写*数据也以4KB page为基本单位。 添加文件，页，表结构描述等定义的添加表文件*（*DbFile*）*的方法：writePageToDisk，readPageFromDisk，实现*从*表的磁盘文件中*写*入页面数据，读取页面数据 完成单例dataBa](https://download.csdn.net/download/weixin_42128963/16220825)

[*自己**动手**写*DB*数据库*框架(性能优化)_z240336124的专栏](https://blog.csdn.net/z240336124/article/details/60876353)

5-8

[基于目前还是小白,那么*写*过的代码每次必会优化,我们就拿上次*自己**写*的*数据库*框架优化*一*下吧。之所以*自己**写**一*方面是因为内涵段子项目的需求问题,必须按需定制;还有*一*方面我想*写*得更好在性能方面*一*定要想方设法超过第三方的开源*数据库*框架。](https://blog.csdn.net/z240336124/article/details/60876353)

[*自己**动手**写* android *数据库*(2)_明风的博客](https://blog.csdn.net/tianyeming/article/details/46455249)

5-14

[分类专栏: *数据库* 版权 package com.neolink.providers.contacts; import java.text.Collator; import java.util.ArrayList; import java.util.Arrays; import java.util.HashMap;](https://blog.csdn.net/tianyeming/article/details/46455249)

[*自己**写**一*个简单的*数据库*](https://download.csdn.net/download/weixin_38712279/13688955)

12-14

[所有应用软件之中，*数据库*可能是复杂的。 　　My*SQL*的手册有3000多页，Postgre*SQL*的手册有2000多页，Oracle的手册更是比它们相加还要厚。 　　但是，*自己**写**一*个简单的*数据库*，做起来并不难。Reddit上面有*一*个帖子，只用了几百个字，把原理讲清楚了。下面是我根据这个帖子整理的内容。 　　*一*、数据以文本形式保存 　　第*一*步，是将所要保存的数据，*写*入文本文件。这个文本文件是你的*数据库*。 　　为了方便读取，数据必须分成记录，每*一*条记录的长度规定为等长。比如，假定每条记录的长度是800字节，那么第5条记录的*开始*位置在3200字节。 　　大多数时候，我们不知道某*一*条](https://download.csdn.net/download/weixin_38712279/13688955)

[*自己**动手*搭建*数据库*框架](https://blog.csdn.net/qq_24675479/article/details/79285849)

[奋斗&努力](https://blog.csdn.net/qq_24675479)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 7444

[首先IDaoSupport接口，有查询，插入单条数据，批量插入，删除，更新 public interface IDaoSupport<T> { void init(*SQL*iteDatabase *sqL*iteDatabase, Class<T> clazz); // 插入数据 public long insert(T t); /...](https://blog.csdn.net/qq_24675479/article/details/79285849)

[*自己**动手**写**数据库*](https://blog.csdn.net/ggaofengg/article/details/83021341)

[ggaofengg的专栏](https://blog.csdn.net/ggaofengg)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 3088

[*自己**动手*开发编译器 https://www.cnblogs.com/Ninputer/archive/2011/06/12/2078671.html *自己**动手**写**数据库* https://blog.csdn.net/InsZVA/article/details/51227691](https://blog.csdn.net/ggaofengg/article/details/83021341)

[*数据库*的最简单实现*（*转*）*](https://blog.csdn.net/summer85/article/details/84611865)

[summer85的博客](https://blog.csdn.net/summer85)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 679

[ 原文：http://www.ruanyifeng.com/blog/2014/07/database_implementation.html 有应用软件之中，*数据库*可能是最复杂的。 My*SQL*的手册有3000多页，Postgre*SQL*的手册有2000多页，Oracle的手册更是比它们相加还要厚。 但是，*自己**写**一*个最简单的*数据库*，做起来并不难。Reddit上面有*一*个 帖子 ，只用了几...](https://blog.csdn.net/summer85/article/details/84611865)

[*数据库*的编*写*](https://blog.csdn.net/qq_46185445/article/details/104582813)

[qq_46185445的博客](https://blog.csdn.net/qq_46185445)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 126

[/***************************************************** copyright (C), 2014-2015, Lighting Studio. Co., Ltd. File name： Author：Jerey_Jobs Version:0.1 Date: Description： Funcion List: *****...](https://blog.csdn.net/qq_46185445/article/details/104582813)

[*自己**动手**写**数据库*](https://blog.csdn.net/esensoft/article/details/9118419)

[esensoft的专栏](https://blog.csdn.net/esensoft)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 877

[*自己**动手**写**数据库*，这是思维导图。](https://blog.csdn.net/esensoft/article/details/9118419)

[*自己*如何*写*my*sql**数据库*_如何*写**一*个属于*自己*的*数据库*封装(1)](https://blog.csdn.net/weixin_39982452/article/details/113554664)

[weixin_39982452的博客](https://blog.csdn.net/weixin_39982452)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 102

[*写*在前头依然在前进的菜鸟*一*只，错误什么的请轻喷指出对于*数据库*连接由于较浅的工作经验所以无法完全覆盖，较复杂的query可能会有意想不到的bug所以本系列只提供思路，成熟稳定的*数据库*封装有请自行搜索编*写*该系列的初衷就是为了抛砖引玉， 在每*一*节的后端，我都会提出*一*些个人疑问(或无)，希望能引出大神为我解答迷惑使用的php版本为7.0+，该系列并不向下兼容，还在5.6版本的童鞋们快过来玩呀*数据库*封装参考...](https://blog.csdn.net/weixin_39982452/article/details/113554664)

[设计*一*个简单的*数据库*系统](https://blog.csdn.net/Lilyseven_/article/details/81120400)

[Lilyseven_的博客](https://blog.csdn.net/Lilyseven_)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1万+

[*自己*用c++*写*了*一*个小小的*数据库*，用于实现以下的简单功能： 设计特定的数据结构，用于存储数据表、视图、索引三种*数据库*对象的元数据信息，建立*数据库*系统的数据字典； 设计特定的数据结构，用于存储数据表中的数据、索引数据、用户和访问权限的信息； 输入“help database”命令，输出所有数据表、视图和索引的信息，同时显示其对象类型；输入“help table 表名”命令，输出数据表中所有属性...](https://blog.csdn.net/Lilyseven_/article/details/81120400)

[如何*写*好*数据库*存储过程](https://blog.csdn.net/f_fengfeixiang/article/details/88556814)

[梓洋的博客](https://blog.csdn.net/f_fengfeixiang)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1786

[首先需要判断*一*下是否存在存储过程 if exists (select * from sys.procedures where name='存储过程名字') --判断是否存在存储过程 drop proc 存储过程名字 --删除存储过程 go create proc 存储过程名字([@参数 数据类型 \]) --创建*一*个存储过...](https://blog.csdn.net/f_fengfeixiang/article/details/88556814)

[*自己**动手**写**数据库**（*二*）*表的结构](https://blog.csdn.net/InsZVA/article/details/51274823)

[InsZVA的专栏](https://blog.csdn.net/InsZVA)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 2423

[*自己**动手**写**数据库**（*二*）*表的结构*一*点点声明我不准备贴多少代码，因为代码实现是开发者自由去做的，我这篇文章只是为了提供*一*个思路或者结构，具体的实现，如果做不出来，请多多练习基本功。 另外我这篇文章讲的是以行为储存的，列式储存的*数据库*类似。表的逻辑模型我们知道，在关系型*数据库*中，数据是以表的形式来储存的，那么我们也应该实现*一*个表的数据结构，比如下面这样(伪代码)：Table { Row[\]](https://blog.csdn.net/InsZVA/article/details/51274823)

[my*sql*在哪里*写**sql*_如何成为*写**SQL*高手*（*上*）*](https://blog.csdn.net/weixin_34151001/article/details/113717453)

[weixin_34151001的博客](https://blog.csdn.net/weixin_34151001)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 154

[标准结构化查询语言(Structured Query Language)简称*SQL*，*sql*是我们日常工作中使用最多*一*项技能，*写**sql*可以说是*一*个可以干到退休的技能。看似简单，但要精通却很难。 经过我与小伙伴交流，发现来自基层的小伙伴技术水平普遍不高，在处理*一*个问题时候，经常会岀现“卡壳“现象。市面关于这种HIT真正实用技术干货，实在很难寻觅！实在有必要重*写**一*遍，全面提升大家*sql*能力。*sql*包括增...](https://blog.csdn.net/weixin_34151001/article/details/113717453)

[*从*0*开始**写**数据库*-00-序言](https://blog.csdn.net/zhangqhn/article/details/88654043)

[zhangqhn的博客](https://blog.csdn.net/zhangqhn)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 736

[首先我们的目标不是做*一*个商业的*数据库*，而是让*一*个软件开发的初学者能*自己**写**一*个*数据库*，并能按照*自己*的想法不断完善，达到提升编程能力的目标。 相信大部分人看到这个标题的时候都觉得不可能或这并不简单。为了能更好的说服大家，我们已经完成了*一*个很基本*数据库*原型的搭建MyBase并且已经开源，https://github.com/zhangqhn/mybase这个系列文章将会复盘MyBase的开发过程，...](https://blog.csdn.net/zhangqhn/article/details/88654043)

[*自己**动手**写*DB*数据库*框架*（*增*）*](https://blog.csdn.net/z240336124/article/details/60876295)

[z240336124的专栏](https://blog.csdn.net/z240336124)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 3249

[1. 概述　　在Android开发中我们经常要进行各种网络访问，比如查看各类新闻、查看各种图片。但有*一*种情形就是我们在规定的时间内每次重复发送的网络请求其实返回的数据可能都是*一*样的。比如*一*个电影类APP，每*一*次向服务器申请某个电影的相关信息，如封面、简介、演员表等等，它们的信息都是*一*样的，这样就有点浪费资源，最主要的是这些重复的请求产生了没有必要的流量。流量、流量、流量！！！重要的事情说三遍！而流量](https://blog.csdn.net/z240336124/article/details/60876295)

[my*sql* *自己**写**数据库*_*自己**写*的*一*个my*sql**数据库*操作类](https://blog.csdn.net/weixin_29415429/article/details/114809902)

[weixin_29415429的博客](https://blog.csdn.net/weixin_29415429)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 16

[/**一*个容易使用的my*sql*类by：iiworkqq 165633505*/namespace my*sql*;class aclient{ctor( tParam){import my*sql*.client;var db = my*sql*.client(tParam);if(!db) return ;this.db = db;};query = function(*sql*){returnd...](https://blog.csdn.net/weixin_29415429/article/details/114809902)

[*自己**写**一*个*数据库*连接工具类](https://blog.csdn.net/iteye_1866/article/details/82676705)

[iteye_1866的博客](https://blog.csdn.net/iteye_1866)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 237

[最近刚复习了*一*下JDBC相关的知识，这里来*写**一*个my*sql**数据库*连接工具类来练习*一*下。 在jdbc连接*数据库*时，Connection对象是非常稀有的资源，用完后必须马上释放，如果Connection不能及时、正确的关闭，极易导致系统宕机。Connection的使用原则是尽量晚创建，尽量早的释放。 所以在*一*个项目中，如何正确的去管理Connection对象就显得尤为重要。*数据库*连接工具类需要包...](https://blog.csdn.net/iteye_1866/article/details/82676705)

[简单*数据库*编*写*实例](https://blog.csdn.net/weixin_43292354/article/details/90180318)

[lighten-1996的博客](https://blog.csdn.net/weixin_43292354)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 2603

[1.安装My*SQL* 2.创建*数据库* 3.创建数据表 4.插入数据 5.修改数据 1.安装My*SQL**（*基于windows*）* 安装包下载地址：http://dev.my*sql*.com/downloads/my*sql*/ 下载完后，我们将 zip 包解压到相应的目录 配置 My*SQL* 的配置文件 打开刚刚解压的文件夹 ，在该文件夹下创建 my.ini 配置文件，编辑 my.ini 配置以下基本信息： 进...](https://blog.csdn.net/weixin_43292354/article/details/90180318)

©️2020 CSDN 皮肤主题: 大白 设计师:CSDN官方博客 [返回首页](https://blog.csdn.net/)

- [关于我们](https://www.csdn.net/company/index.html#about)
- [招贤纳士](https://www.csdn.net/company/index.html#recruit)
- [广告服务](https://www.csdn.net/company/index.html#advertisement)
- [开发助手](https://plugin.csdn.net/)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/tel.png)400-660-0108
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/email.png)[kefu@csdn.net](mailto:webmaster@csdn.net)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/cs.png)[在线客服](https://csdn.s2.udesk.cn/im_client/?web_plugin_id=29181)
- 工作时间 8:30-22:00

- [公安备案号11010502030143](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502030143)
- [京ICP备19004658号](http://beian.miit.gov.cn/publish/query/indexFirst.action)
- [京网文〔2020〕1039-165号](https://csdnimg.cn/release/live_fe/culture_license.png)
- [经营性网站备案信息](https://csdnimg.cn/cdn/content-toolbar/csdn-ICP.png)
- [北京互联网违法和不良信息举报中心](http://www.bjjubao.org/)
- [网络110报警服务](http://www.cyberpolice.cn/)
- [中国互联网举报中心](http://www.12377.cn/)
- [家长监护](https://download.csdn.net/index.php/tutelage/)
- [Chrome商店下载](https://chrome.google.com/webstore/detail/csdn开发者助手/kfkdboecolemdjodhmhmcibjocfopejo?hl=zh-CN)
- ©1999-2021北京创新乐知网络技术有限公司
- [版权与免责声明](https://www.csdn.net/company/index.html#statement)
- [版权申诉](https://blog.csdn.net/blogdevteam/article/details/90369522)
- [出版物许可证](https://img-home.csdnimg.cn/images/20210414021151.jpg)
- [营业执照](https://img-home.csdnimg.cn/images/20210414021142.jpg)

[![img](https://profile.csdnimg.cn/7/5/4/3_inszva)](https://blog.csdn.net/InsZVA)

[InsZVA](https://blog.csdn.net/InsZVA)

码龄10年[![img](https://csdnimg.cn/identity/nocErtification.png) 暂无认证](https://i.csdn.net/#/uc/profile?utm_source=14998968)







- 12万+

  访问

- [![img](https://csdnimg.cn/identity/blog5.png)](https://blog.csdn.net/blogdevteam/article/details/103478461)

  等级

- 1831

  积分

- 103

  粉丝

- 28

  获赞

- 27

  评论

- 35

  收藏

![持之以恒](https://csdnimg.cn/medal/chizhiyiheng@240.png)

[私信](https://im.csdn.net/chat/InsZVA)

关注

![img](https://csdnimg.cn/cdn/content-toolbar/csdn-sou.png?v=1587021042)

### 热门文章

- [自己动手写数据库（一） 从SQL语句开始 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 10990](https://blog.csdn.net/InsZVA/article/details/51227691)
- [浙大PTA OJ漏洞 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 6773](https://blog.csdn.net/InsZVA/article/details/48662815)
- [Nginx源码分析 - Nginx启动以及IOCP模型 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 6257](https://blog.csdn.net/InsZVA/article/details/53899245)
- [非官方浙江大学校园网认证客户端开发笔记（一） ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 5397](https://blog.csdn.net/InsZVA/article/details/53641436)
- [Go语言中的多核调度 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 4585](https://blog.csdn.net/InsZVA/article/details/54081605)

### 分类专栏

- [![img](https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64)后端23篇](https://blog.csdn.net/inszva/category_5986935.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64)运维/数据库14篇](https://blog.csdn.net/inszva/category_5986937.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756724.png?x-oss-process=image/resize,m_fixed,h_64,w_64)算法27篇](https://blog.csdn.net/inszva/category_5986939.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)安卓1篇](https://blog.csdn.net/inszva/category_5986941.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)前端4篇](https://blog.csdn.net/inszva/category_5986945.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)随笔8篇](https://blog.csdn.net/inszva/category_6140985.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)分布式/并行计算2篇](https://blog.csdn.net/inszva/category_6241409.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64)源码分析5篇](https://blog.csdn.net/inszva/category_6670502.html)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownWhite.png)

### 最新评论

- Go语言中的多核调度

  [guangsu.: ](https://blog.csdn.net/qq_30549099)同一进程下的多个协程可以使用多核并发执行吗 ？ 同一进程下的多个线程可以使用多核并发执行吗 ？

- CPU L2缓存初探

  [愚者ol: ](https://blog.csdn.net/qq_42378281)老哥，这不是cache问题，而是你的代码问题哈....... 根据你的代码60000之后是n^2的复杂度，所以才变慢那么多的，emmmmmmm

- Nginx源码分析 - Nginx启动以及IOCP模型

  [MengXP: ](https://blog.csdn.net/MengXP)4年过去了，请问作者当年调试通iocp了吗？反正我现在用最新版本的nginx，启用iocp之后是无法正常工作的，浏览器访问根本拿不到任何数据

- 统治世界的缓存 --- glibc源码拜读 - printf

  [loe: ](https://blog.csdn.net/mxgsgtc)这个小例子挺有意思，但为什么 直接运行就出现一次 aa，重定向就输出两次aa呢

- 统治世界的缓存 --- glibc源码拜读 - printf

  [loe: ](https://blog.csdn.net/mxgsgtc)实际上应该是 第一次printf调用会在_IO_OVERFLOW malloc 1024大小的缓冲区

### 最新文章

- [Tensorflow-Go的扩展](https://blog.csdn.net/InsZVA/article/details/78744001)
- [TensorFlow模型保存的一个坑](https://blog.csdn.net/InsZVA/article/details/78616902)
- [glibc-文件读缓存的EOF判定坑](https://blog.csdn.net/InsZVA/article/details/75094623)

[2017年12篇](https://blog.csdn.net/InsZVA/article/month/2017/12)

[2016年19篇](https://blog.csdn.net/InsZVA/article/month/2016/12)

[2015年29篇](https://blog.csdn.net/InsZVA/article/month/2015/12)

![img]()

### 目录

1. [自己动手写数据库（一） 从SQL语句开始](https://blog.csdn.net/InsZVA/article/details/51227691#t0)
2. 1. [关于本教程](https://blog.csdn.net/InsZVA/article/details/51227691#t1)
   2. [从SQL语句开始](https://blog.csdn.net/InsZVA/article/details/51227691#t2)
   3. [如何解析SQL](https://blog.csdn.net/InsZVA/article/details/51227691#t3)
   4. [SQL语法分析](https://blog.csdn.net/InsZVA/article/details/51227691#t4)
   5. [附](https://blog.csdn.net/InsZVA/article/details/51227691#t5)



![img](https://g.csdnimg.cn/side-toolbar/3.0/images/guide.png)![img](https://g.csdnimg.cn/side-toolbar/3.0/images/kefu.png)举报

[![CSDN首页](https://img-home.csdnimg.cn/images/20201124032511.png)](https://www.csdn.net/)

- [首页](https://www.csdn.net/)
- [博客](https://blog.csdn.net/)
- [专栏·视频](https://edu.csdn.net/)
- [下载](https://download.csdn.net/)
- [论坛](https://bbs.csdn.net/)
- [问答](https://ask.csdn.net/)
- [代码](https://codechina.csdn.net/?utm_source=csdn_toolbar)
- [直播](https://live.csdn.net/?utm_source=csdn_toolbar)
- [能力认证](https://ac.csdn.net/)
- [社区](https://www.csdn.net/c/)

 

[![img](https://profile.csdnimg.cn/D/B/6/2_yangjava2014)](https://blog.csdn.net/yangjava2014)

[会员中心](https://mall.csdn.net/vip)

[收藏](https://i.csdn.net/#/user-center/collection-list?type=1)

[动态](https://blog.csdn.net/nav/watchers)

[消息](https://i.csdn.net/#/msg/index)

[创作中心](https://mp.csdn.net/)

# 伯克利大学数据库作业实现SimpleDB

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/original.png)

[pyxiea](https://blog.csdn.net/xpy870663266) 2017-10-05 23:20:08 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/articleReadEyes.png) 10510 ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png) 收藏 34

分类专栏： [Database](https://blog.csdn.net/xpy870663266/category_7208974.html) 文章标签： [数据库](https://www.csdn.net/tags/NtzaUgysMTg1NC1ibG9n.html) [数据库系统](https://www.csdn.net/tags/MtTaEg1sMzc5MjMtYmxvZwO0O0OO0O0O.html) [SimpleDB](https://so.csdn.net/so/search/s.do?q=SimpleDB&t=blog&o=vip&s=&l=&f=&viparticle=) [数据库实现](https://www.csdn.net/tags/MtTaIgwsMDcyMDYtYmxvZwO0O0OO0O0O.html)

版权

本着锻炼自己的意图，我在课余时间抽空完成了伯克利大学的数据库大作业——实现SimpleDB。这篇博文只是分享一下整个过程，将这门课程介绍并推荐给更多朋友。更多细节可以到课程主页查看 https://sites.google.com/site/cs186fall2013/homeworks 。

## 课程内容

课程分为四个部分，分别实现四个在数据库中比较核心的部分：

**课题一：实现数据管理**。这一部分主要是实现SimpleDB对数据的管理，当然，需要在指导下先搭建好开发环境并了解SimpleDB的整体框架。更具体来说，需要实现存储、访问与管理物理层面的数据（二进制文件），以及将其映射为逻辑层面的数据（关系表）。在这一课题的最后，还要求实现SimpleDB中最基本的操作——SeqScan，因此完成这一章后，就可以扫描全表了。

**课题二：实现操作符**。这一部分主要是实现一系列操作符，包括insert、delete、select、join、group by、order by等。其中，join的高效率实现是一个难点（学习一下常见的算法即可，文末有推荐文章），其他操作符都比较简单。而且group by与order by功能被简化了，也省去了一部分工作量。而在课题最后，则要实现课题一未完成的一个功能——缓存管理。在这里，将要学习并实现缓存机制，包括缓存替换策略（LRU等）。

**课题三：实现查询优化**。这一部分主要是实现基于代价的优化器，重难点是利用left-deep-tree和动态规划的思想实现Join操作的优化器。完成后，Filter（即where子句）以及Join操作的性能将得到很大的优化。

**课题四：实现事务**。这一部分主要实现数据库对事务的支持，包括在Page粒度下利用2PL协议以及NO STEAL/FORCE缓存管理策略实现事务的ACID特性，以及基于超时法或事务等待图法的死锁检测和解除。由于采用NO STEAL/FORCE，基于日记的undo和redo功能被省略了。

## 课程优点

- 整个项目的整体逻辑代码已经由伯克利大学和斯坦福大学的教授实现，我们只需要着眼于具体功能的实现
- 知识的范围与难度掌握的非常合理，在现代数据库中重要的内容几乎都覆盖到了，而且难点虽然有挑战性，但经过仔细思考都可以解决，写完真的过瘾。经过这一番对数据库的探索，能让自己对数据库的理解有很大的提高
- 课程的讲解细致，还有不少实现方面的提示。这是课程门槛低的一个很大原因，简直就像教授手把手教你实现。
- 课程配套了比较完整的单元测试。每个课题都配套了几乎所有功能的单元测试，在实现了操作符之后还提供了数据文件，可以用来测试数据库的整体性能。这些测试对我们能正确实现有非常大的帮助。

## 课程要求

之所以想推荐给大家，是因为我觉得这门课不仅能学到不少东西，而且课程的门槛一点不高，下面我分几个方面说一下。

- **数据库理论**：你一定想不到这门课对数据库理论的门槛有多低。我在开始写的时候，只了解SQL的基本使用（实现Join的时候不太清楚还要去查一下什么意思=.=），而剩下的知识，包括缓存替换算法LRU，Join算法的优化，基于代价的优化器，以及2PL、锁的特性以及粒度、死锁检测等等知识，大部分都可以在写的过程中直接谷歌得到详细介绍，少部分，也就是事务那一课题，我觉得概念比较系统而且有难度，所以去看了一下书的相关内容。**我在后面会说明我在整个过程参考了哪些文章以及看了什么书**。
- **Java要求**：课程需要使用Java代码完成， 因此需要有一些Java基础。而为了实现事务，Java的并发部分也需要了解，需要掌握线程的同步与通信，包括synchronize和volatile关键字等的使用。另外，需要知道Ant或Maven等Java生态下的构建工具的**基本**使用。课程带着我们操作的是Ant，出于习惯我改成Maven了。
- **时间要求**：根据我的经历，只要有一定的java基础，不到两个月就可以实现整个课程（我写的时候中间隔了个暑假，去干别的了，所以算起来也就总共花了一个多月）。而课程要求的时间加起来是56天，也差不多。

## 参考的网址与书籍

1. https://sites.google.com/site/cs186fall2013/homeworks
   这是课程的主页，几乎整个过程都是在其指导下完成
2. http://coding-geek.com/how-databases-work/
   这是一篇简单介绍了关系数据库原理的文章，写的非常好，看完可以对数据库有个整体的了解，对相关的协议或算法的概念和术语不至于太陌生。也可以选择看国内的翻译版，见第8点
3. http://blog.csdn.net/ghsau/article/details/43762027
   这是Join算法的优化，**建议在第2个课题实现到join操作时看**
4. http://blog.itpub.net/30206145/viewspace-1651583/
   这是Join优化器的内容，**建议在第3个课题看，可以了解到基于成本的优化(CBO)和left-deep-tree等概念**
5. http://www.mathcs.emory.edu/~cheung/Courses/554/Syllabus/5-query-opt/left-deep-trees.html
   介绍left-deep-tree的，**第3课题看**
6. http://www.mathcs.emory.edu/~cheung/Courses/554/Syllabus/5-query-opt/best-left-deep-tree.html
   同上
7. http://www.mathcs.emory.edu/~cheung/Courses/554/Syllabus/5-query-opt/dyn-prog-join3.html
   介绍动态规划实现的优化器如何工作
8. http://blog.csdn.net/ylforever/article/details/51048945
   这是对第2点中文章的事务部分的翻译，**建议开始课程前看或在第4个课题看**
9. 建议找一本介绍数据库原理的书籍系统了解**事务部分**的概念，重点掌握**事务的ACID特性，读写锁的优先级，2PL协议。**我是直接拿我们学校发的课本《数据库系统概论 第5版 王珊等著》看了下第10、11章就直接去coding了，加上在第8点的文章中了解到了不少概念，例如NO STEAL/FORCE，所以也没再遇到什么问题

最后，贴一下我完成之后放在github的地址： https://github.com/iamxpy/SimpleDB ，欢迎大家一齐学习交流~~



- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarThumbUp.png)点赞13
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarComment.png)评论9](https://blog.csdn.net/xpy870663266/article/details/78163423#commentBox)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarShare.png)分享](javascript:;)
- [![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarCollect.png)收藏34](javascript:;)
- ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/tobarReport.png)举报
- [关注](javascript:;)
- 一键三连

<iframe src="https://kunpeng-sc.csdnimg.cn/?timestamp=1623163941/#/preview/7352?positionId=58&amp;queryWord=&amp;spm=1001.2101.3001.5002" frameborder="0" width="100%" height="75px" scrolling="no" style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; font-weight: normal;"></iframe>

![img]()

[*数据库*大*作业*（sql server）](http://download.csdn.net/download/zengqi19900615/2432507)

06-06

[*数据库*大*作业*（sql server） *数据库*大*作业*（sql server） *数据库*大*作业*（sql server） *数据库*大*作业*（sql server）](http://download.csdn.net/download/zengqi19900615/2432507)





[![img](https://profile.csdnimg.cn/D/B/6/3_yangjava2014)](https://blog.csdn.net/yangjava2014)

![表情包](https://csdnimg.cn/release/blogv2/dist/pc/img/emoticon.png)



- [![weixin_43934036](https://profile.csdnimg.cn/6/5/A/3_weixin_43934036)](https://blog.csdn.net/weixin_43934036)

  [春秋之约](https://blog.csdn.net/weixin_43934036)**:**非常感谢博主，参考你和另外一位博主的文章我也完成了整个数据库，还找到了另外两个lab：log和b+tree3 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

  ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

- - [![weixin_43934036](https://profile.csdnimg.cn/6/5/A/3_weixin_43934036)](https://blog.csdn.net/weixin_43934036)

    [春秋之约](https://blog.csdn.net/weixin_43934036)回复汪阿少二少**:**在上面那个github链接里我给出来了，看ReadMe2 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

  - [![weixin_44179892](https://profile.csdnimg.cn/2/7/2/3_weixin_44179892)](https://blog.csdn.net/weixin_44179892)

    [汪阿少二少](https://blog.csdn.net/weixin_44179892)回复**:**咦，另外两个lab在哪啊，可以贴一下地址吗2 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

  - [![xpy870663266](https://profile.csdnimg.cn/2/7/A/3_xpy870663266)](https://blog.csdn.net/xpy870663266)

    [pyxiea![img](https://csdnimg.cn/release/blogv2/dist/components/img/bloger@2x.png)](https://blog.csdn.net/xpy870663266)回复**:**能不能告知一下你的github主页？我直接邀请你作为项目合作者3 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

  - [![weixin_43934036](https://profile.csdnimg.cn/6/5/A/3_weixin_43934036)](https://blog.csdn.net/weixin_43934036)

    [春秋之约](https://blog.csdn.net/weixin_43934036)回复pyxiea**:**可以啊，确实是这个寒假刚实现。具体要怎么做呢，我提交一个PR吗？3 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

  - [![xpy870663266](https://profile.csdnimg.cn/2/7/A/3_xpy870663266)](https://blog.csdn.net/xpy870663266)

    [pyxiea![img](https://csdnimg.cn/release/blogv2/dist/components/img/bloger@2x.png)](https://blog.csdn.net/xpy870663266)回复**:**这个repository感觉还是有不少人在继续关注着，但是我已经忘了细节了，无法维护，例如issue区的问题我也无法回答。如果是刚实现过一遍的话，不止你是否有意愿作为contributor加入我那个repository？主要是回答下issue区的问题，更新下readme（和大家说可以提交PR），PR也让你来审。如果是学生的话，我觉得在这个repository更加受欢迎之后作为简历上的一个亮点还是不错的。3 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

- [![GrandPandababy](https://profile.csdnimg.cn/4/C/D/3_grandpandababy)](https://blog.csdn.net/GrandPandababy)

  [汐勒个汐](https://blog.csdn.net/GrandPandababy)**:**太吊了吧。。。原来那个是你的写的4 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

  ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

- - [![xpy870663266](https://profile.csdnimg.cn/2/7/A/3_xpy870663266)](https://blog.csdn.net/xpy870663266)

    [pyxiea![img](https://csdnimg.cn/release/blogv2/dist/components/img/bloger@2x.png)](https://blog.csdn.net/xpy870663266)回复**:**这个是伯克利大学的大作业，不是Amazon的SimpleDB，你可能误会了4 月前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

    ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

- [![lUNATICF](https://profile.csdnimg.cn/6/A/6/3_lunaticf)](https://blog.csdn.net/lUNATICF)

  [lUNATICF](https://blog.csdn.net/lUNATICF)**:**请问您还有lecture notes吗~网站上的都已经挂了3 年前回复![img](https://csdnimg.cn/release/blogv2/dist/pc/img/commentMore.png)

  ![点赞](https://csdnimg.cn/release/blogv2/dist/pc/img/commentUnHeart.png)

相关推荐

[*伯克利大学**数据库*homework project2 *实现*_chen10849660...](https://blog.csdn.net/chen1084966084/article/details/103075068)

5-10

[Join操作是*数据库*的经典操作,这个操作将会一一比较每一个Tuple,返回每一对满足条件的Tuple组合。这部分会涉及到join算法的优化。 这部分我们要*实现*4个类: src/*simp**led*b/Predicate.java src/*simp**led*b/JoinPredicate.java ...](https://blog.csdn.net/chen1084966084/article/details/103075068)

[*伯克利大学**数据库*homework project1 *实现*_chen10849660...](https://blog.csdn.net/chen1084966084/article/details/88832637)

5-9

[最近发现了一个来自*伯克利大学*的*数据库**作业*,看起来很不错,所以打算认认真真的做完。 homework链接为:https://sites.google.com/site/cs186fall2013/homeworks 构建工具 *作业*使用ant构建工具进行构建,但我觉得使用Maven工具更好一点。](https://blog.csdn.net/chen1084966084/article/details/88832637)

[linux下利用/proc进行进程树的打印](http://download.csdn.net/download/zblhero/985647)

02-02

[在linux下利用c语言*实现*的进程树的打印，主要通过/proc下的目录中的进程文件，获取status中的进程信息内容，然后利用递归*实现*进程树的打印](http://download.csdn.net/download/zblhero/985647)

[*Simp**leD*B：加州大学伯克利分校的*数据库*类CS186：*实现*一个简单的*数据库*管理系统-源码](https://download.csdn.net/download/weixin_42127775/15072369)

02-05

[简单*数据库* *伯克利大学*的*数据库**作业*：*实现*一个简单的*数据库*管理系统 您可以在获得更多详细信息和我的博客（中文版）： : （请参阅README中的英文版本） API变更 在Pro1中，我更改了几种方法的参数 在Pro3中，我更改了JoinOptimizer.java中的方法computeCostAndCardOfSubplan（）以获得左深树（我可能在该课程提供的代码中发现了一些错误）。 此外，我在LogicalPlan.java中更改方法physicalPlan（）。 具体来说，我添加的代码将检查查询是否包含联接，如果不包含联接，则不会调用JoinOptimizer。 我的博客的英文版 我在](https://download.csdn.net/download/weixin_42127775/15072369)

[[资料\] 史上最强的*伯克利大学*1024线飞龙AI下载地址,有...](https://blog.csdn.net/SilverFoxGame/article/details/90398601)

6-21

[很好的斗地主ai算法,文档内容讲解的很清晰明白 下载*伯克利大学**数据库**作业**实现**simp**led*b 10-05 阅读数 4471 博客地址本着锻炼自己的意图,我在课余时间抽空完成了*伯克利大学*的*数据库*大*作业*——*实现**simp**led*b。这篇博文只是分享一下整个过程,将...](https://blog.csdn.net/SilverFoxGame/article/details/90398601)

[计划*实现*一个开源的KV*数据库*——*Simp*le DB_weixin_3057...](https://blog.csdn.net/weixin_30578677/article/details/94828674)

5-15

[与其继续钻研BDB的各种配置来适配当前特殊的需求,不如轻装上阵,自己*实现*一个项目特定的底端存储,由于目标和需求少儿明确,*实现*起来要简单很多,预期能够获得比BDB更高的性能。 这个*数据库*暂时取名为*Simp*le DB,其主要需求和大致*实现*如下: ...](https://blog.csdn.net/weixin_30578677/article/details/94828674)

[6.830 Lab 1: *Simp**leD*B](https://blog.csdn.net/hjw199666/article/details/103486328)

[hjw199666的博客](https://blog.csdn.net/hjw199666)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 2689

[Intro 在6.830中，*实现*一个基础的数据管理系统*Simp**leD*B。Lab1主要是*实现*对硬盘上存储数据的访问，之后的Lab会*实现*其他query processing operators，包括transactions，locking，concurrent queries。 1. Getting started *Simp**leD*B使用Ant build tool来编译代码和运行测试...](https://blog.csdn.net/hjw199666/article/details/103486328)

[Amazon S3 & *Simp**led*b内部*实现*分析](https://blog.csdn.net/anhuidelinger/article/details/9949959)

[anhuidelinger的专栏](https://blog.csdn.net/anhuidelinger)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1905

[作者: Chuanhui | 可以转载， 但必须以超链接形式标明文章原始出处和作者信息及版权声明 本文链接地址: http://www.nosqlnotes.net/archives/163 Amazon S3申请了一篇专利，名称为”Keymap Service Architecture for A Distributed Storage System“，而Amazon *Simp**led*](https://blog.csdn.net/anhuidelinger/article/details/9949959)

[git博文总结——csdn - weixin_30593443的博客 - CSDN博客](https://blog.csdn.net/weixin_30593443/article/details/98487724)

10-2

[*伯克利大学**数据库**作业**实现**Simp**leD*B 阅读数 5021 博客地址本着锻炼自己的意图,我在课余时间抽空完成了*伯克利大学*的*数据库*大*作业*——*实现**Simp**leD*B。这篇博文只是分享一下整个过程,将这门课程介绍并推荐给更多朋友。更多细节可以到课程主页查看...](https://blog.csdn.net/weixin_30593443/article/details/98487724)

[*数据库**作业*15:关系数据理论_newbee2019的博客](https://blog.csdn.net/newbee2019/article/details/105622017/)

6-15

[*伯克利大学**数据库**作业**实现**Simp**leD*B 博客地址本着锻炼自己的意图,我在课余时间抽空完成了*伯克利大学*的*数据库*大*作业*——*实现**Simp**leD*B。这篇博文只是分享一下整个过程,将这门课程介绍并推荐给更多朋友。更多细节可以到课程主页查看 https://si...](https://blog.csdn.net/newbee2019/article/details/105622017/)

[Amazon *Simp**leD*B (一) 简介](https://blog.csdn.net/hongchangfirst/article/details/25535447)

[hongchangfirst](https://blog.csdn.net/hongchangfirst)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 5887

[Amazon *Simp**leD*B 是一个非关系型*数据库*，可认为是一种NoSQL*数据库*，它内部帮你将数据进行多个区域的存储（副本），用来支持高并发的读取，更新之类的操作只能在中央数据节点进行，但是一般在几秒钟之内就能将变化传播到其它节点。从这可以看出，*Simp**leD*B是提供的是最终一致性。](https://blog.csdn.net/hongchangfirst/article/details/25535447)

[CS186-proj1.tar.gz(*伯克利大学**数据库*系统*作业*1)](https://download.csdn.net/download/liyan1927/12600634)

07-11

[从无到有，一步步，手把手，用Java实际程序例子教学*数据库*设计，美国名校*伯克利大学*的*数据库*系统的*作业*系列](https://download.csdn.net/download/liyan1927/12600634)

[*伯克利大学* CS162课程_weixin_30550271的博客](https://blog.csdn.net/weixin_30550271/article/details/98746709)

5-8

[*伯克利大学* CS162课程 https://cs162.eecs.berkeley.edu/ 转载于:https://www.cnblogs.com/zengkefu/p/5527274.html](https://blog.csdn.net/weixin_30550271/article/details/98746709)

[CS186-proj2-supplement.tar.gz(*伯克利大学**数据库*系统*作业*2)](https://download.csdn.net/download/liyan1927/12740603)

08-23

[从无到有，一步步，手把手，用Java实际程序例子教学*数据库*设计，美国名校*伯克利大学*的*数据库*系统的*作业*系列2](https://download.csdn.net/download/liyan1927/12740603)

[UCB cs186 *数据库* setup](https://blog.csdn.net/RedemptionC/article/details/108162692)

[RedemptionC的博客](https://blog.csdn.net/RedemptionC)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 227

[（复习os看不进去的时候 就想新开一个坑 刚完成了类似hello world的hw0 体验不错 （ 本来准备写在onenote里，想了想还是写在这吧 https://github.com/berkeley-cs186/sp20-moocbase/blob/master/hw0-README.md 按照说明，基本能顺利走下来： 首先安装docker，基本参照这个： https://www.cnblogs.com/blog-rui/p/11244023.html 然后抓取镜像： d...](https://blog.csdn.net/RedemptionC/article/details/108162692)

[非关系型*数据库**Simp**leD*B](https://blog.csdn.net/clasd2008/article/details/46767659)

[chenlei的博客](https://blog.csdn.net/clasd2008)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 527

[关系型*数据库*（Relational Database Management System 简称 RDBMS）一直是主流的*数据库*解决方案，但是随着大数据时代的到来，关系型*数据库*在处理大量数据的时候就显得力不从心了。非关系型*数据库*（Not Only SQL ）应运而生，非关系型*数据库*实际上是阉割了关系型*数据库*里面的部分功能，来*实现*更好的灵活性和扩展性。它的特性如下 非关系型*数据库*存储数据的方](https://blog.csdn.net/clasd2008/article/details/46767659)

[*Simp**leD*B-Database-System:MIT 6.830*数据库*系统实验室-源码](https://download.csdn.net/download/weixin_42151305/15734976)

03-11

[6.830*数据库*系统实验室 的实验室*作业*：小型关系*数据库*管理系统的*实现*。 建筑学 构建和测试 要构建，请输入根目录： ant 要运行单元测试： ant test: 要运行系统测试： ant systemtest 清理可执行文件： ant clean 要在dist /中创建一个JAR文件，请执行以下操作： ant dist 要加载模式文件并启动解释器，请使用以下命令： java -jar dist/*simp**led*b.jar parser dblp_data/dblp_*simp**led*b.schema 未来的工作 实施 改善死锁检测](https://download.csdn.net/download/weixin_42151305/15734976)

[*simp*le db教程](https://download.csdn.net/download/ydmztang/2022492)

01-25

[手把手教你编写一个简单的*数据库*,也可以方便地在上面增添新的功能](https://download.csdn.net/download/ydmztang/2022492)

[*Simp**leD*B_Java：在简单*数据库*上执行基本CRUD操作的Java程序-源码](https://download.csdn.net/download/weixin_42164685/15356777)

02-18

[*Simp**leD*B_Java 一个在简单*数据库*上执行基本CRUD操作的Java程序 该程序是我第二学期Java类实验的一部分，旨在练习使用简单SQL命令访问MySQL*数据库*。](https://download.csdn.net/download/weixin_42164685/15356777)

[*数据库**作业*（二）](https://blog.csdn.net/weixin_44096577/article/details/102653965)

[梦心长存的博客](https://blog.csdn.net/weixin_44096577)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 219

[*数据库**作业*（二） 如有错误，敬请指出](https://blog.csdn.net/weixin_44096577/article/details/102653965)

[*simp**leD*B特点](https://blog.csdn.net/coekaa826620/article/details/100414921)

[coekaa826620的博客](https://blog.csdn.net/coekaa826620)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 163

[个人感觉*simp**leD*B是关系型*数据库*与NOSQL折中的一个产品，对其具有的一些特点罗列如下：无模式： 结构扩展灵活，后期开发维护简单多值属性： 一个键，多个属性值对，属性可重复最终一致性： 读写总是向用户返回成功，后台做多数据...](https://blog.csdn.net/coekaa826620/article/details/100414921)

[CS186 *Simp**leD*B](https://download.csdn.net/download/github_31804537/9673578)

11-05

[是从官方下载的资料](https://download.csdn.net/download/github_31804537/9673578)

[NoSQL*数据库*笔谈](https://blog.csdn.net/yanyongshan/article/details/5623089)

[yanyongshan的专栏](https://blog.csdn.net/yanyongshan)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1276

[NoSQL*数据库*笔谈颜开v0.22010.2序思想篇CAP最终一致性变体BASE其他I/O的五分钟法则不要删除数据RAM是硬盘,硬盘是磁带Amdahl定律和Gustafson定律万兆以太网手段篇一致性哈希 亚马逊的现状算法的选择Quorum NRWVector clockVirtual](https://blog.csdn.net/yanyongshan/article/details/5623089)

[AWS *Simp**leD*B开发笔记](https://blog.csdn.net/solaris_navi/article/details/6680553)

[Solaris_navi Tech Space](https://blog.csdn.net/solaris_navi)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1098

[AWS *Simp**leD*B is one of the could productions from Amazon AWS. It offers a very *simp*le way of using database. Basically, *Simp**leD*B is more lik](https://blog.csdn.net/solaris_navi/article/details/6680553)

[软件测试管理与技术（朱少民）](https://download.csdn.net/download/yaya306/1491777)

07-15

[软件测试管理与技术 原来的资源已经被破坏，本人找到一个未被破坏的，希望对大家有用](https://download.csdn.net/download/yaya306/1491777)

[Amazon *Simp**leD*B (二) 使用](https://blog.csdn.net/hongchangfirst/article/details/25538133)

[hongchangfirst](https://blog.csdn.net/hongchangfirst)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 1686

[关于使用这是一个heloworld教程，首先我们创建一个域domain，相当于一个表。 注意我们并不能做域之间的连接操作，单次查询都只能针对一个域，不能跨域，这是*Simp**leD*B的一个限制，所以开发者应当规划好，别选错了域。另外所有的存储都是string，UTF-8编码的。](https://blog.csdn.net/hongchangfirst/article/details/25538133)

©️2020 CSDN 皮肤主题: 黑客帝国 设计师:白松林 [返回首页](https://blog.csdn.net/)

- [关于我们](https://www.csdn.net/company/index.html#about)
- [招贤纳士](https://www.csdn.net/company/index.html#recruit)
- [广告服务](https://www.csdn.net/company/index.html#advertisement)
- [开发助手](https://plugin.csdn.net/)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/tel.png)400-660-0108
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/email.png)[kefu@csdn.net](mailto:webmaster@csdn.net)
- ![img](https://g.csdnimg.cn/common/csdn-footer/images/cs.png)[在线客服](https://csdn.s2.udesk.cn/im_client/?web_plugin_id=29181)
- 工作时间 8:30-22:00

- [公安备案号11010502030143](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502030143)
- [京ICP备19004658号](http://beian.miit.gov.cn/publish/query/indexFirst.action)
- [京网文〔2020〕1039-165号](https://csdnimg.cn/release/live_fe/culture_license.png)
- [经营性网站备案信息](https://csdnimg.cn/cdn/content-toolbar/csdn-ICP.png)
- [北京互联网违法和不良信息举报中心](http://www.bjjubao.org/)
- [网络110报警服务](http://www.cyberpolice.cn/)
- [中国互联网举报中心](http://www.12377.cn/)
- [家长监护](https://download.csdn.net/index.php/tutelage/)
- [Chrome商店下载](https://chrome.google.com/webstore/detail/csdn开发者助手/kfkdboecolemdjodhmhmcibjocfopejo?hl=zh-CN)
- ©1999-2021北京创新乐知网络技术有限公司
- [版权与免责声明](https://www.csdn.net/company/index.html#statement)
- [版权申诉](https://blog.csdn.net/blogdevteam/article/details/90369522)
- [出版物许可证](https://img-home.csdnimg.cn/images/20210414021151.jpg)
- [营业执照](https://img-home.csdnimg.cn/images/20210414021142.jpg)

[![img](https://profile.csdnimg.cn/2/7/A/3_xpy870663266)](https://blog.csdn.net/xpy870663266)

[pyxiea](https://blog.csdn.net/xpy870663266)

码龄5年[![img](https://csdnimg.cn/identity/nocErtification.png) 暂无认证](https://i.csdn.net/#/uc/profile?utm_source=14998968)







- 17万+

  访问

- [![img](https://csdnimg.cn/identity/blog5.png)](https://blog.csdn.net/blogdevteam/article/details/103478461)

  等级

- 2622

  积分

- 52

  粉丝

- 102

  获赞

- 51

  评论

- 306

  收藏

![签到新秀](https://csdnimg.cn/medal/qiandao1@240.png)

![阅读者勋章Lv1](https://csdnimg.cn/medal/yuedu3@240.png)

![持之以恒](https://csdnimg.cn/medal/chizhiyiheng@240.png)

![勤写标兵Lv3](https://csdnimg.cn/medal/qixiebiaobing3@240.png)

![学习力](https://csdnimg.cn/medal/yuanli_xuexili@240.png)

![原力新人](https://csdnimg.cn/medal/yuanli_xinren@240.png)

![分享精英](https://csdnimg.cn/medal/fenxiangjingying@240.png)

[私信](https://im.csdn.net/chat/xpy870663266)

关注

![img](https://csdnimg.cn/cdn/content-toolbar/csdn-sou.png?v=1587021042)

### 热门文章

- [解决Unable to Correct Problems ‘You have Held Broken Packages’ ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 18169](https://blog.csdn.net/xpy870663266/article/details/94742491)
- [解决org.apache.zookeeper.ZooKeeper.(Ljava/lang/String;ILorg/apache/zookeeper/Watcher;Z)V ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 14374](https://blog.csdn.net/xpy870663266/article/details/66973646)
- [伯克利大学数据库作业实现SimpleDB ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 10501](https://blog.csdn.net/xpy870663266/article/details/78163423)
- [pytorch使用GPU ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 10418](https://blog.csdn.net/xpy870663266/article/details/96103454)
- [KFold函数 __init__() got an unexpected keyword argument 'n_folds' ![img](https://csdnimg.cn/release/blogv2/dist/pc/img/readCountWhite.png) 9045](https://blog.csdn.net/xpy870663266/article/details/89815068)

### 分类专栏

- [![img](https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Recommender System7篇](https://blog.csdn.net/xpy870663266/category_10580263.html)
- [![img](https://img-blog.csdnimg.cn/20190927151101105.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Interview13篇](https://blog.csdn.net/xpy870663266/category_9749963.html)
- [![img](https://img-blog.csdnimg.cn/20190927151053287.png?x-oss-process=image/resize,m_fixed,h_64,w_64)笔试面试算法题9篇](https://blog.csdn.net/xpy870663266/category_9873610.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Deep Learning3篇](https://blog.csdn.net/xpy870663266/category_9763791.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Numpy1篇](https://blog.csdn.net/xpy870663266/category_9879613.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64)GAN](https://blog.csdn.net/xpy870663266/category_9375653.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756757.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Math5篇](https://blog.csdn.net/xpy870663266/category_9366036.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756754.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Pycharm1篇](https://blog.csdn.net/xpy870663266/category_9681497.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Competition](https://blog.csdn.net/xpy870663266/category_9605141.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Bigdata4篇](https://blog.csdn.net/xpy870663266/category_6737965.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756918.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Hadoop3篇](https://blog.csdn.net/xpy870663266/category_6752866.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64)MapReduce2篇](https://blog.csdn.net/xpy870663266/category_6752870.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756926.png?x-oss-process=image/resize,m_fixed,h_64,w_64)HDFS1篇](https://blog.csdn.net/xpy870663266/category_6762630.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Linux3篇](https://blog.csdn.net/xpy870663266/category_6804771.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Zookeeper1篇](https://blog.csdn.net/xpy870663266/category_6821989.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756913.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Database1篇](https://blog.csdn.net/xpy870663266/category_7208974.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756780.png?x-oss-process=image/resize,m_fixed,h_64,w_64)OS3篇](https://blog.csdn.net/xpy870663266/category_7209175.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)life](https://blog.csdn.net/xpy870663266/category_7340089.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Machine Learning9篇](https://blog.csdn.net/xpy870663266/category_7412864.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Algorithm11篇](https://blog.csdn.net/xpy870663266/category_8695453.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Data Mining11篇](https://blog.csdn.net/xpy870663266/category_8821932.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Reinforcement Learning3篇](https://blog.csdn.net/xpy870663266/category_9047281.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Framework8篇](https://blog.csdn.net/xpy870663266/category_9130812.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756919.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Graph Network1篇](https://blog.csdn.net/xpy870663266/category_9197652.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756925.png?x-oss-process=image/resize,m_fixed,h_64,w_64)Relational Reasoning2篇](https://blog.csdn.net/xpy870663266/category_9200185.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756738.png?x-oss-process=image/resize,m_fixed,h_64,w_64)python1篇](https://blog.csdn.net/xpy870663266/category_9203238.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756928.png?x-oss-process=image/resize,m_fixed,h_64,w_64)NLP7篇](https://blog.csdn.net/xpy870663266/category_9245529.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756927.png?x-oss-process=image/resize,m_fixed,h_64,w_64)PyTorch12篇](https://blog.csdn.net/xpy870663266/category_9245531.html)
- [![img](https://img-blog.csdnimg.cn/20201014180756916.png?x-oss-process=image/resize,m_fixed,h_64,w_64)TensorFlow3篇](https://blog.csdn.net/xpy870663266/category_9245533.html)

![img](https://csdnimg.cn/release/blogv2/dist/pc/img/arrowDownWhite.png)

### 最新评论

- HMM与CRF笔记

  [ctotalk: ](https://blog.csdn.net/qq_45937199)感谢分享,学习了

- 伯克利大学数据库作业实现SimpleDB

  [春秋之约: ](https://blog.csdn.net/weixin_43934036)在上面那个github链接里我给出来了，看ReadMe

- 伯克利大学数据库作业实现SimpleDB

  [汪阿少二少: ](https://blog.csdn.net/weixin_44179892)咦，另外两个lab在哪啊，可以贴一下地址吗

- 伯克利大学数据库作业实现SimpleDB

  [pyxiea: ](https://blog.csdn.net/xpy870663266)能不能告知一下你的github主页？我直接邀请你作为项目合作者

- 伯克利大学数据库作业实现SimpleDB

  [春秋之约: ](https://blog.csdn.net/weixin_43934036)可以啊，确实是这个寒假刚实现。具体要怎么做呢，我提交一个PR吗？

### 最新文章

- [基于树的召回框架（三）：Learning Optimal Tree Models under Beam Search](https://blog.csdn.net/xpy870663266/article/details/115625977)
- [基于树的召回框架（二）：Joint Optimization of Tree-based Index and Deep Model for Recommender Systems](https://blog.csdn.net/xpy870663266/article/details/115601145)
- [基于树的召回框架（一）：Learning Tree-based Deep Model for Recommender Systems](https://blog.csdn.net/xpy870663266/article/details/115460329)

[2021年3篇](https://blog.csdn.net/xpy870663266/article/month/2021/04)

[2020年42篇](https://blog.csdn.net/xpy870663266/article/month/2020/11)

[2019年43篇](https://blog.csdn.net/xpy870663266/article/month/2019/12)

[2017年7篇](https://blog.csdn.net/xpy870663266/article/month/2017/10)

![img]()

### 目录

1. [课程内容](https://blog.csdn.net/xpy870663266/article/details/78163423#t0)
2. [课程优点](https://blog.csdn.net/xpy870663266/article/details/78163423#t1)
3. [课程要求](https://blog.csdn.net/xpy870663266/article/details/78163423#t2)
4. [参考的网址与书籍](https://blog.csdn.net/xpy870663266/article/details/78163423#t3)



![img](https://g.csdnimg.cn/side-toolbar/3.0/images/guide.png)![img](https://g.csdnimg.cn/side-toolbar/3.0/images/kefu.png)举报

- [首页](https://www.oschina.net/)
- [资讯](https://www.oschina.net/news)
- [专区](https://www.oschina.net/groups)
- [问答](https://www.oschina.net/question)
- [活动](https://www.oschina.net/event)
- [软件库](https://www.oschina.net/project)
- [发现](https://www.oschina.net/explore)
- [博客](https://www.oschina.net/blog)
- [Gitee](https://gitee.com/?utm_source=oschina&utm_medium=link-index&utm_campaign=home)

[![OSCHINA](https://static.oschina.net/new-osc/img/logo_new.svg)](https://www.oschina.net/)

- [首页](https://www.oschina.net/)
- [资讯](https://www.oschina.net/news)
- [专区](https://www.oschina.net/groups)
- [问答](https://www.oschina.net/question)
- [活动](https://www.oschina.net/event)
- [软件库](https://www.oschina.net/project)
- [发现](https://www.oschina.net/explore)
- [博客](https://www.oschina.net/blog)
- [Gitee](https://gitee.com/?utm_source=oschina&utm_medium=link-index&utm_campaign=home)

- 

- 

- ![村长杨京京](https://oscimg.oschina.net/oscnet/up-cf904f0d61ea0fcf18b586fd616ec1a4.jpeg!/both/50x50?t=1459925359000)

- 

[开源博客](https://www.oschina.net/blog)

[写博客](https://www.oschina.net/home/go?page=blog%2Fwrite)







































[100斤的大胖子的个人空间](https://my.oschina.net/u/565489)*/*[研发](https://my.oschina.net/u/565489?tab=newest&catalogId=6531534)*/*

正文

[![img](https://static.oschina.net/uploads/cooperation/blog_detail_left_banner_1_pWMSS.jpg)](https://e.cn.miaozhen.com/r/k=2233845&p=7rliQ&dx=__IPDX__&rt=2&pro=s&ns=__IP__&ni=__IESID__&v=__LOC__&xa=__ADPLATFORM__&tr=__REQUESTID__&o=https://www.huaweicloud.com/about/techwave_cloudnative_2_0.html?utm_source=oschina&utm_medium=adp-huaweiyun&utm_campaign=techwave_cloudnative&utm_content=bokezuoce-0519)

# [实践DDD领域驱动设计](https://my.oschina.net/u/565489/blog/3069940)

原创

[100斤的大胖子](https://my.oschina.net/u/565489)

[研发](https://my.oschina.net/u/565489?tab=newest&catalogId=6531534)

2019/07/05 10:35

阅读数 5W

[![img](https://static.oschina.net/uploads/img/202008/31180557_CtYD.png)](https://www.oschina.net/group/architecture)

本文被收录于专区

[软件架构](https://www.oschina.net/group/architecture)

[进入专区参与更多专题讨论 ](https://www.oschina.net/group/architecture)

[假日出游，为什么显示有票你却抢不到？揭秘12306如何保证车票不超卖的关键技术！>>>![img](https://www.oschina.net/img/hot3.png)](https://e.cn.miaozhen.com/r/k=2239088&p=7ssHR&dx=__IPDX__&rt=2&pro=s&ns=__IP__&ni=__IESID__&v=__LOC__&xa=__ADPLATFORM__&tr=__REQUESTID__&o=https://bbs.huaweicloud.com/blogs/263475?utm_source=oschina&utm_medium=banner&utm_campaign=2021community-pdev&utm_content=blog-details-text)



# 说明

领域驱动设计最近又火了。概念不断被提及，但是相信对于像笔者一样的很多开发者对于其如何应用都一头雾水。

正如《实现领域驱动设计》中作者提到的不同公司的业务能力开发能力和成熟度不一样，DDD为了解决复杂业务为生，并不适合所有的软件项目，对于很多初创公司而言，业务本身就是模糊的，只是需要做出一个MVP(最小可行性产品)来试探商业模式，采用ddd显得过“重”了一点，反而给团队成员带来额外的负担，所以团队**管理者首先应该关注的是软件系统是否值得做出DDD投入**。

不过不管黑猫白猫，能抓到老鼠就是好猫。我们以电商业务来演练和实践ddd的部分理论，并解释ddd的概念。



# 战略设计阶段

> **领域**：即业务是属于哪块，电商领域，保险领域，零售领域，又可细化分为子领域。如电商下（订单交易领域、库存领域、会员领域、物流领域....）
>
> **领域专家**：一般指熟悉对应领域的产品经理项目经理
>
> **子域**：子域可细分为核心子域、通用子域和支撑子域，简单理解为哪部分是比较核心的就可称作核心子域，哪些功能偏边缘化叫支撑域。

互联网公司的敏捷开发模式的产品研发流程从收集需求、PRD评审、技术模块拆分这些前期流程。而战略设计即在这个阶段完成，顾名思义侧重于从宏观上对业务进行拆分，和对未来走向的预测。

DDD的目的是为了领域专家更好地与开发进行沟通合作，使得代码更好地传达业务规则。

最初的需求方可能会提一些凌乱的需求。

为了更好地传达规则，领域专家将需求整合提取出领域的概念，技术/项目管理者一起划分好子域和限界上下文。各方统一所谓的**通用语言**并在以后的协作中使用。比如电商业务中双方约定好中商家用户和买家用户的概念，用户和账户的概念，交易订单和支付订单、物流订单、售后订单的概念，以实现后期沟通顺畅。

最终产出：划分出了哪些子领域、上下文映射图是怎样的。

贴一个电商业务的上下文映射图（下单交易上下文为下游，其他皆为上游）：

![img](https://notecdn.yiban.io/cloud_res_dev/159471455/imgs/19-7-5_02:20:00.783_51684.jpeg)

而各个上下文的交互方式，即**集成限界上下文**的方式其实就是我们常说的系统交互方式：RPC调用、REST接口调用、消息队列通信。

**怎么理解限界上下文和子域的关系？**

> **限界上下文：**是一个显示边界，领域模型即存在于这个边界之内。在边界内，通用语言有特定明确的意义。

ps：是不是觉得每个字都认得，但是不知道表达了什么意思....

在理解限界上下文和子域上确实有点费劲。笔者当时的疑惑主要是：为什么要用上下文映射图而不是子域交互图，子域划分出来不就说明边界已经明确了么，为什么还专门搞一个限界上下文的概念。

关于限界上下文，贴一下个人理解：

接下来要咬文嚼字一些了。

1、从“限界”二字来说。限界上下文明确了业务范围和职责边界。针对上面问题“子域中不是已经有边界的概念了么”。可以思考一个有意思的事，子域有边界，还是说因为有了边界才有子域。听到过一个非常到位的类比：**如果没有细胞壁，如何定义细胞质**?

2、从“上下文”来说。上下文关注的是两个系统交互时的环境，或者说语境。

举个例子：小学是一个子域，中学是一个子域。升学这个事件动作则要上下文表达。

通用语言要在限界上下文（语境）中保证其明确意义。举个例子，商家管理上下文中，我们(平台)说的用户指的是商家而不是买家，支付上下文中，我们以支付单为核心，语境无需引入物流单、库存等词汇。

通常来说，我们可以近似地认为子域和限界上下文一一对应的。



# 战术设计阶段

截止到此，我们已经划分好了子域，对开发人员来说，已经拆分好了项目。各个团队可以针对自己的子域进行独立开发了。对于ddd而言，我们开始进行战术设计阶段。战略设计关心做什么，战术设计则更关心技术实现细节，即：怎么做。

先说下ddd中推荐的**六边形架构**：

![img](https://notecdn.yiban.io/cloud_res_dev/159471455/imgs/19-7-5_02:20:00.781_2572.jpeg)

这里要吐槽一下六边形架构这个命名，搞得好像有六个什么东西一样。其实只是根据视觉形状起的名。现在叫端口与适配器架构。

转换一下是这样的

![img](https://notecdn.yiban.io/cloud_res_dev/159471455/imgs/19-7-5_02:20:00.784_6200.jpeg)

> **严格分层架构：**某层只能与直接位于其下方的层发生耦合
>
> **松散分层架构：**允许上方层可以与任意下方层发生耦合。

这里采用松散分层架构。也可按依赖倒置原则, 基础层依赖领域层的一些东西（常见的就是实体Entity）

适配器层：

负责接口转换，即是最外层请求处理类，将外部请求转化为内部API能理解的输入。对于REST接口可能是一个controller类；
对于dubbo调用来说是开放出去的provider服务类；
对于grpc调用来说，是protobuf请求对象转换处理类；
对于消息机制来说，对应的是消息的监听器

如此采用端口适配器模式，可以不影响内部服务，只需在适配器层进行增改。尽管大家不知道六边形架构的定义，但相信很多人是这样做的。无须赘述。

应用层：负责协调领域层的接口实现前端展示或返回需要。

领域层：定义领域实体和逻辑。包括实体、值对象、领域服务、领域事件、资源库。

基础层：如数据库相关。



## **实体和值对象**

**实体：** 
有唯一业务标识
有自己的业务属性和行为
属性可变，有自己的生命周期

**值对象：** 
 可以有唯一业务标识

有自己的业务属性和行为

一旦定义不可改变

二者的关系可总结为：**值对象关心对象是什么样的，实体侧重描述对象是哪个？**

提到有自己的业务属性和行为这块，想想这不就是我们年轻时说的面向对象编程的思想码？

但是回顾一下会发现，这个思想好像被很多人抛诸脑后很久了，定义的对象类都成了一个个的pojo，只有属性和属性对应getter和seter方法，也就是ddd中所说的**失血模型。**

> **失血模型：**只含属性和对应的getter/setter方法，无业务处理逻辑
>
> **贫血模型**：包含不依赖持久化的部分领域逻辑，依赖持久的逻辑被放在领域服务层。
>
> **充血模型**：绝大数业务逻辑都放在其中，包括持久化逻辑。少数不适合的逻辑被提取出来放在领域服务层中。
>
> **胀血模型**：主张不需要领域服务层，把一些业务逻辑都放在模型对象中处理



## **领域服务**

胀血模型主张把所有的业务逻辑放在模型中处理，但是事实上有些逻辑并不是适合放在某个领域对象中处理。比如

1、领域对象间的转换
2、某些场景下需要多个领域对象作为输入值，结果产生一个值对象。

区别于应用层的服务，领域服务处理的是业务逻辑。应用层负责对领域服务处理结果进行渲染和组装返回给前端。ps: 针对查询类的操作，建议作为应用层的查询服务单独拎出来，因为查询尝尝涉及到多个维度的查询，或把多个领域对象的查询结果组装成一个返回值对象。

举个栗子：订单领域需要向商家（PC端）和买家（APP端），商家端按发货条件时间查询所有买家的订单，操作发货处理售后等流程。买家端完成下单、查询个人订单。在应用层我们抽象三个应用处理出来，公用的查询应用、商家端应用（关联商家权限控制上下文）、买家端应用（关联买家权限控制上下文）。



## **领域事件**

领域事件即领域业务周期中一些关键行为，关键的定义是其他地方需要依赖此事件推送业务流转。如订单被支付这个事件，需要触发库存扣减、商家待结算账户余额增加等操作。关于领域事件处理方法：跨子域处理常用消息队列发布/订阅模式，同项目处理常用注册事件监听器处理。不多描述。



## **聚合和资源库**

领域对象之间常常有依赖关系。比如主订单-子订单(商品)项，子订单依附于主订单存在，二者的关系称作**聚合**，主订单作为**聚合根。**

```
@Data
public class TradeOrderEntity {
//订单号
String orderNo;
// 商品详情
List<OrderItemDetailEntity> orderItemDetails;
```

我们通过为每一个聚合选择一个根，并通过根来控制所有对边界内的对象的访问。外部对象只能持有根的引用；由于根控制了访问，因此我们无法绕过它去修改内部元素。所以在ddd中，资源库Repository是面向聚合根操作的,可对多个dao对象的组合使用。

```
@Repository
public class TradeOrderRepository {

@Autowired
TradeOrderMapper tradeOrderMapper;

@Autowired
OrderItemDetailMapper orderItemDetailMapper;
}
```

------

关于其中一些思想，笔者也没有想清楚，所谓知行合一，恐怕很多方法论要真的遇到问题了才会理解其价值。先整理到这。最后针对Java后端开发同学，提供一个模块分层的框架供参考

![img](https://notecdn.yiban.io/cloud_res_dev/159471455/imgs/19-7-5_02:20:00.777_51008.jpeg)



# 思考

> 无忌，我教你的还记得多少？” “回太师傅，我只记得一大半”
>
> “ 那，现在呢？” “已经剩下一小半了”
>
> “那，现在呢？” “我已经把所有的全忘记了！”
>
> “好，你可以上了…”

![img](https://notecdn.yiban.io/cloud_res_dev/159471455/imgs/19-7-5_02:20:00.778_18228.jpeg)

![img](https://oscimg.oschina.net/oscnet/be1412c6890280b7976893810e491212df3.jpg)

[Protocol Buffers](https://www.oschina.net/p/protocol+buffers)[Java](https://www.oschina.net/p/java)[Dubbo](https://my.oschina.net/u/565489?q=Dubbo)[gRPC](https://www.oschina.net/p/grpc-framework)[Entity](https://www.oschina.net/p/entity)

© 著作权归作者所有

举报

打赏

8 赞

108 收藏

分享

### 作者的其它热门文章

[从下单场景谈谈分布式理论：TCC/BASE/2PC/3PC](https://my.oschina.net/u/565489/blog/3073288)

[关于高并发限流那些事](https://my.oschina.net/u/565489/blog/3081864)

[mysql数据库先update后insert死锁分析](https://my.oschina.net/u/565489/blog/4777207)

![村长杨京京](https://oscimg.oschina.net/oscnet/up-cf904f0d61ea0fcf18b586fd616ec1a4.jpeg!/both/50x50?t=1459925359000)

### 关于作者

[![100斤的大胖子](https://oscimg.oschina.net/oscnet/up-504d942ec42284fa4e33fe4398cb4ab5.jpg!/both/200x200?t=1462961567000)](https://my.oschina.net/u/565489)



![Lv1](https://static.oschina.net/new-osc/img/level/lv1_small.png)

[100斤的大胖子](https://my.oschina.net/u/565489)

高级程序员

关注

[私信](https://my.oschina.net/u/565489)

[提问](https://www.oschina.net/question/ask?user=565489)

[文章4](https://my.oschina.net/u/565489)

经验值

42

[粉丝3](https://my.oschina.net/u/565489/followers)[关注1](https://my.oschina.net/u/565489/following)

#### 作者的专辑

[全部](https://my.oschina.net/u/565489)

[研发(4)](https://my.oschina.net/u/565489?tab=newest&catalogId=6531534)

源创计划

[立即入驻](https://www.oschina.net/sharing-plan)

自媒体入驻开源社区，

获百万流量，打造个人技术品牌

### 推荐关注

换一批 

[![骨头大魔神](https://oscimg.oschina.net/oscnet/up-c2315e1a65913c7750ef8b8c781ec536.jpg!/both/50x50?t=1521642279000)](https://my.oschina.net/brinkqiang)

[骨头大魔神](https://my.oschina.net/brinkqiang)

开源软件作者

关注

[![够过瘾](https://static.oschina.net/uploads/user/894/1789712_50.jpg?t=1426049840000)](https://my.oschina.net/gouguoyin)

[够过瘾](https://my.oschina.net/gouguoyin)

文章 7

访问 905

关注

[![竹子花开_](https://static.oschina.net/uploads/user/1592/3185592_50.jpg?t=1482909154000)](https://my.oschina.net/u/3185592)

[竹子花开_](https://my.oschina.net/u/3185592)

开源软件作者

关注

[![8小时](https://static.oschina.net/uploads/user/2065/4131034_50.jpg?t=1557451568000)](https://my.oschina.net/u/4131034)

[8小时](https://my.oschina.net/u/4131034)

文章 120

访问 9.1W

关注

[![红薯](https://static.oschina.net/uploads/user/0/12_50.jpg?t=1421200584000)](https://my.oschina.net/javayou)

[红薯](https://my.oschina.net/javayou)

文章 166

访问 164W

已关注

#### OSCHINA 社区

[关于我们](https://www.oschina.net/home/aboutosc)[联系我们](https://www.oschina.net/home/aboutosc)[加入我们](https://www.oschina.net/news/131099/oschina-hiring)[合作伙伴](https://www.oschina.net/home/aboutosc#partners)[Open API](https://www.oschina.net/openapi)

#### 在线工具

[Gitee.com](https://gitee.com/?utm_source=oschina&utm_medium=link-bottom&utm_campaign=home)[企业研发管理](https://gitee.com/enterprises?utm_source=oschina&utm_medium=link-bottom&utm_campaign=enterprises)[CopyCat-代码克隆检测](https://copycat.gitee.com/?utm_source=oschina&utm_medium=link-bottom&utm_campaign=copycat)[实用在线工具](https://tool.oschina.net/)[国家反诈中心APP下载](https://oscimg.oschina.net/oscnet/up-82a1d21cdcbd86bf819ffd854dc0f1c6d72.png)

#### QQ交流群

[![QQ交流群](https://static.oschina.net/new-osc/img/qq_qrcode_2_new.png)](https://jq.qq.com/?_wv=1027&k=rfiPgVgE)

[530688128](https://jq.qq.com/?_wv=1027&k=rfiPgVgE)

#### 微信公众号

![微信公众号](https://static.oschina.net/new-osc/img/wechat_qrcode.jpg?t=1484694603000)

### OSCHINA APP

聚合全网技术文章，根据你的阅读喜好进行个性推荐

[下载 APP](https://www.oschina.net/app)

©OSCHINA(OSChina.NET)

 

工信部

 [开源软件推进联盟](http://www.copu.org.cn/) 

指定官方社区

深圳市奥思网络科技有限公司版权所有

 [粤ICP备12009483号](http://beian.miit.gov.cn/)

![img](https://oscimg.oschina.net/oscnet/up-02f2706a81344119fb5cdcdda304068f2e0.png)


首发于[FMS-支付系统](https://www.zhihu.com/column/c_68788273)

写文章

![关于账务系统设计的总结](https://pic2.zhimg.com/v2-4f96c616ecdfb84bf7f556bcd1e708eb_1440w.jpg?source=172ae18b)

# 关于账务系统设计的总结

[![haric](https://pic3.zhimg.com/64099ec5b3717322ca38384af1992afb_xs.jpg?source=172ae18b)](https://www.zhihu.com/people/haric-47)

[haric](https://www.zhihu.com/people/haric-47)

全栈产品经理修炼之路

93 人赞同了该文章



最近一些朋友和交流账务，会计系统一些问题，最近2年也一直在和账务系统做斗争，积累一些认知，特此总结。

概念就不讲了，纯自己认知，限于资料有限，如有错误，请大家多指正

**一.账务系统作用**

1.记录账户余额

2.记录账户流水

3.会计核算的基础

4.一种支付方式（比如余额宝，花呗）

5.交易和会计系统的缓冲，用于实时记录客户余额的变化

6.信用额度控制

.......

**二.账务系统类型**

1.复式记账的账务系统：会计系统，（我设计的账务系统）

2.单边记账+复式记账的账务系统：支付宝账务系统 （充值 提现单边记账，内部转移复式记账）

3.单边记账的账务系统：电商平台类，最初的原始余额管理系统



**三.账务系统和其他系统的关系**

1.以账务系统为核心：业务系统-》账务-》会计核算-》对账

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1331' height='413'></svg>)

2.以交易系统为核心：



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='429' height='343'></svg>)



3.客户，会员，账户的关系

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='844' height='808'></svg>)

**三.账务系统怎么设计**

1.参考文章：

[支付系统账户模型设计mp.weixin.qq.com![图标](https://pic3.zhimg.com/v2-e4df0d3d1106a30e40a7026b465683f2_180x120.jpg)](https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s/ySqvVR0dN4S-rRMVG3PceA)[支付 | Payment Blogwechat.lixf.cn![图标](https://pic3.zhimg.com/v2-cccaa0fbe094e7bed538a82ea970faee_180x120.jpg)](https://link.zhihu.com/?target=http%3A//wechat.lixf.cn/2017/2017/05/26/wechat20/)[支付 | Payment Blogwechat.lixf.cn](https://link.zhihu.com/?target=http%3A//wechat.lixf.cn/2018/01/12/wechat97/)

2.相关接口

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='765' height='430'></svg>)

3.数据结构

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='916' height='521'></svg>)



....(此处略去N张表）



**四.账务系统设计原理**

1.复式记账账务系统和会计原理类似：

a.有借必有贷，借贷必相等

b.恒等原理：资产类账户 + 负债类账户 = 内部类账户（余额可正可负）

```abap
*充值100元，问题：内部渠道户如何平账（充提对冲）
  资产类账户（+0） = 负债类账户（+100） + 内部支付渠道户（-100）
*提现
  资产类账户（+0） = 负债类账户（-100） + 内部支付渠道户（+100）
*转账
  资产类账户（+0）= 负债类账户（+100  +(-100)）+内部类账户（0）
*信用还款 为什么同时-100，还款操作是减少资产账户的已透支额度，消费是增加透支额度
  资产类账户（-100） = 负债类账户（-100）+内部类账户（0）
*等等场景都可以罗列

如果账务系统遵循这个原理：
  1.可定时验证账务系统恒等是否成立，判断这段时间系统是否出现漏记，或金额记错的问题。
  2.账户类型和会计科目映射，可以核对每日期初余额，期末余额，发生额，如果有差异，则核对明细
  3.热点账户问题需要解决，内部账户会存在排队记账的情况，需要有队列机制or汇总记账。
  4.回滚需要同时清除2个账户的流水和余额，比较麻烦。
  5.一个交易对应多笔记账流水需要在一个事务里完成记账，实现复杂。
```

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='502' height='277'></svg>)



2.单边+复式记账

在和第三方系统发生业务使用单边记账，比如充值，提现

系统内资金过程使用复式记账。

优势：

a.避免支付渠道余额清理的问题，减少热点账户

b.账务的记账流水用于和支付渠道对账。

c.内部热点账户可以批量记账，比如担保交易的中间账户，优惠券账户等



**五.账务系统如何对账**

1.和会计系统对账

a.整理会计系统记账

b.建立账户类型和会计科目的映射

c.明确核对周期，比如日清，周清，月清 按实际情况

d.核对期初，发生额，期末余额，如果会计系统类似SAP有供应商和客服分类账的可以核对不同余额。

2.余额对账原理



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1012' height='642'></svg>)

3.支付渠道对账



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1012' height='480'></svg>)



4.支付宝的账务系统业务流程：账务-》会计-》核算

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='651' height='458'></svg>)

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='619' height='439'></svg>)



**六.如何才能做好账务设计工作**

如果要做好这个工作，首先要对信息流，账户流转，财务记账等按交易场景分析清楚，做到每个业务场景都细化到账务流，资金流，凭证流，制定业务核对规则，按流水号，凭证号，资金支付单据号等唯一值实现系统自动记账，核对，实现日清日结。

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1434' height='330'></svg>)



**七.账务系统的记账几种类型：**

**1.担保交易**，先冻结额度，然后在扣除冻结额度，记录账务流水和更新余额

a.提现：平台自建提现通道，走银企直联，不是实时到账，涉及到财务提现审核，提现流程分为3步。

发起提现：用户从客户端发起提现申请，将提现额度冻结，可用额度减少

提现审核：人工or自动

提现付款：出纳操作选择支付银行，发送支付指令，银行返回接收成功，如果支付成功，到触发扣除锁定额度，记录账务流水和更新余额。如果支付失败，则重新发起支付，或取消提现，释放锁定额度，提示用户修改信息后再提现。

b.支付宝的担保支付也可以不走中间账户，先锁定，收货后扣除锁定额度

**2.实时交易**

账户支付

直接记录账务流水和余额变化



**3.记账交易** 按照固定账单从账户扣钱，不需要支付验证，一般由扣款协议。

代扣类业务：花呗扣款



**八.如何核对账户系统余额**

应该从什么点出发，来做核对，怎么才能财务的期初，期末，发生额对上呢，有差异如何快速的找到问题点。

我的经验如下，针对每个业务场景将账务流水，财务凭证，资金流分析清楚，指定每个场景的对账规则，比如流水号写入会计凭证。

示例如下：

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1351' height='558'></svg>)

**九.之前相关文章的链接**



[haric：账务系统-账务记账方式zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/24594337)[haric：对账-支付渠道对账zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/24306289)[haric：账务系统发展阶段总结zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/23986379)[haric：账务系统-复式记账法总结zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/23628307)[haric：互联网企业账户/账务系统如何设计?zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/21621023)[刘贞平：支付系统中的账户体系的设计与记账处理zhuanlan.zhihu.com![图标](https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg)](https://zhuanlan.zhihu.com/p/28823688)



十.名词解释

```text
*会计系统：记录财务凭证，管理财务相关事务，出具财务报表的系统
*清算系统：分为清分和结算两步，清分：计算账户的应收应付。结算：对应收应付进行收付款。
```



编辑于 2018-04-08

[支付系统](https://www.zhihu.com/topic/19672062)

赞同 93

10 条评论

分享

喜欢收藏申请转载



### 文章被以下专栏收录

- [![FMS-支付系统](https://pic4.zhimg.com/4b70deef7_xs.jpg?source=172ae18b)](https://www.zhihu.com/column/c_68788273)

- ## [FMS-支付系统](https://www.zhihu.com/column/c_68788273)

- 支付系统主要处理交易中资金流的业务处理

### 推荐阅读

- # 账户账务系统介绍

- 账务系统有以下几个作用：1.提供业务支撑：记录账户余额和账户流水，业务驱动账务 2.为用户提供账单：用户可以查询账户的余额和明细 3.为商户提供账单：为商户提供资金对账单 4.会计核算的…

- iseey...发表于支付平台

- # 账务系统-账务记账方式

- 账务系统是虚拟货币的“银行”，银行系统管理真实货币，我们常见第三方支付，互金等行业，账务系统都处于核心地位，重要性见：对互联网金融的一些看法——互联网金融的命门 废话不多说了,做…

- haric

- # 如何从零到1搭建支付账户清结算系统（3）

- 我们上一章说了，如何建立一个简单的支付系统，但是这里面只是说到了正常流程，如果出现异常怎么办？比如说如果支付渠道（银行，支付宝，微信）等长时间无返回的话？需要增加查询接口，是5…

- 傅斯翃

- # 如何从零到1搭建支付账户清结算系统（1）

- 这个系列文章既是对自己差不多近10年的工作总结，也是给给一些初级的电商的后端系统的一些搭建的建议。 这个系列的文章不涉及到很深的技术知识，也不是支付公司的系统介绍（任何一家支付公…

- 傅斯翃

## 10 条评论

切换为时间排序

写下你的评论...







发布

- [![老张](https://pic3.zhimg.com/03b42d62450ffcb05428b958512bea22_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/zhang-rui-38-7)[老张](https://www.zhihu.com/people/zhang-rui-38-7)2018-03-08

  同问那几个pdf可以共享吗

  1回复踩 举报

- [![一万个哈姆雷特](https://pic4.zhimg.com/v2-bd03c3acfc6375e8f75d2b40fd32db88_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/wang-gou-dan-65-46)[一万个哈姆雷特](https://www.zhihu.com/people/wang-gou-dan-65-46)2018-03-06

  请问，那几个pdf可以共享吗

  1回复踩 举报

- [![乡间](https://pic4.zhimg.com/v2-4fb8ae1ff51f2b420b84266dee63416b_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/cai-da-fan)[乡间](https://www.zhihu.com/people/cai-da-fan)回复[一万个哈姆雷特](https://www.zhihu.com/people/wang-gou-dan-65-46)2018-07-05

  接口文档有啥好分享的

  赞回复踩 举报

- [![一万个哈姆雷特](https://pic1.zhimg.com/v2-bd03c3acfc6375e8f75d2b40fd32db88_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/wang-gou-dan-65-46)[一万个哈姆雷特](https://www.zhihu.com/people/wang-gou-dan-65-46)回复[乡间](https://www.zhihu.com/people/cai-da-fan)2018-07-05

  这不还有设计文档呢

  赞回复踩 举报

- [![一眼苍穹](https://pic2.zhimg.com/da8e974dc_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/gcc-77)[一眼苍穹](https://www.zhihu.com/people/gcc-77)04-30

  同求

  赞回复踩 举报

- [![陈楚楼](https://pic3.zhimg.com/ab5697012632e43edb75ab6da8da1dc4_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/chen-chu-lou-82)[陈楚楼](https://www.zhihu.com/people/chen-chu-lou-82)2020-10-01

  请问一个最简单的复式记账系统的数据库该怎么设计啊，我感觉数据源只来源于凭证啊。

  赞回复踩 举报

- [![疯魔](https://pic1.zhimg.com/621135ef1_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/kami-18)[疯魔](https://www.zhihu.com/people/kami-18)2020-05-26

  能问下，花呗这种信用支付的账单系统怎么设计的么

  赞回复踩 举报

- [![闹了个笑话吧](https://pic4.zhimg.com/da8e974dc_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/nao-liao-ge-xiao-hua-ba-78)[闹了个笑话吧](https://www.zhihu.com/people/nao-liao-ge-xiao-hua-ba-78)2019-12-20

  请问..数据结构可以分享一下么

  ![img](https://pic2.zhimg.com/v2-e213ddb29e5a2adb54d6343d5dea27d1.gif)

  赞回复踩 举报

- [![hyman](https://pic2.zhimg.com/da8e974dc_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/hyman-77-18)[hyman](https://www.zhihu.com/people/hyman-77-18)2018-05-09

  同文pdf可以共享吗

  赞回复踩 举报

- [![许正伟](https://pic1.zhimg.com/8e5cf00e0_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/xu-zheng-wei)[许正伟](https://www.zhihu.com/people/xu-zheng-wei)2018-03-14

  不错

  赞回复踩 举报

写文章

# 热点账户冲扣设计方案（转）

[![海茶依依岛](https://pic1.zhimg.com/v2-b9d5287d6c30db069ce089e85335d37f_xs.jpg?source=172ae18b)](https://www.zhihu.com/people/joycgj)

[海茶依依岛](https://www.zhihu.com/people/joycgj)

环游世界享受人生

4 人赞同了该文章

## 原文：[https://www.cnblogs.com/zyl2016/p/9928567.html](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/zyl2016/p/9928567.html)

## **前言：方案设计前提**

一般账务系统对账户的冲扣需要满足以下两点

1：更新账户表中的账户余额。

2：记录账户明细表中的账户更新前余额，账户更新后余额，操作金额。

其中对账户表中的余额更新一般是直接update，对账户明细表中的操作前金额，操作后金额和操作金额就是对账户表update的记录

## **1:为什么做热点账户设计**

热点账户交易是性能瓶颈,在银行或者第三方支付系统的账务数据库的处理中，数据从一个账户转出，或者有数据转入一个账户，账户都会收到记账请求，并都有一个记账处理的过程。记账处理过程主要包括两部分，一是记录记账凭证，二是更新账户的余额。为了保证账户不被其他请求影响数据的准确性，在进行记账处理时，会先对账户的资源加锁，记账处理完毕后会自动释放锁。随着账务处理业务量的增大，账务数据库中的账户常常会在瞬间产生多个并发操作，但所有对应的并发线程中只有一个线程能够持有当前账户的资源锁，其他线程必须等待该锁被释放后再逐一进行记账处理，这样该账户将会被频繁加锁释锁，使该账户成为账务数据库热点，产生性能瓶颈点，严重影响账务数据库的性能。



![img](https://pic3.zhimg.com/80/v2-e4b014f218d629e85f30372b1c8353de_1440w.jpg)



对于同一账户ID来说，由于实际业务需要更新账户可用余额和账户流水日志，所以单笔冲扣功能是在一个事物中进行操作,任何更新操作都会对数据上行锁，图例如下



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1298' height='580'></svg>)



## **2:业界关于热点账户冲扣设计方案**

**1.并发度控制**

同一时刻，对同一账户修改的请求数越多，这个账户的锁等待问题就越严重，所谓*并发度控制*就是要控制同一时刻对热点账户请求的数量，可以通过控制上游支付系统并发请求数据或者账务系统处理的并发请求数来实现。这一方案的缺点是对业务是有损的，当热点账户出现的时候，支付或者账务处理失败率会增加，用户的体验会变差，较大的银行或者第三方支付公司用地比较少。



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='721' height='461'></svg>)



### **2.汇总明细记账**

实时的交易全部是insert账务明细（insert的开销很小，能够支持高并发。如果基于分布式部署，insert的并发容量理论上可以无限大），然后定时(比如每半个小时)将之前半个小时内的账务明细sum出一个结算总金额，一笔入账结算到指定账户。这个方案的缺点就是：交易不能实时入账，其实如果控制好定时汇总入账的频度，比如分钟级，用户也是可以接受的。这种方式对收单类业务（账户加钱）非常实用，但是对支出类业务（账户减钱）类来说，有账户透支地风险。



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='521' height='521'></svg>)



### **3.缓冲入账**

将实时同步的记账请求进行异步化，以达到记账实时性和系统稳定性之间平衡的记账手段，这就是”削峰填谷“。详细地讲，假如账务系统对同一个账户的处理阈值为100笔/s，24小时不间断服务(一天能处理86400000笔)。当业务高峰期来临的时候，热点账务的请求数会达到200笔/s。当账户的交易低于100笔/秒的时候，账务系统几乎还是实时地处理了记账请求，而当交易大于100笔/秒的时候，账务系统先返回结果，把账务处理丢到可靠的处理队列中，等并发量不大的时候慢慢消化，对用户来说感受到的体验还是很快就记账成功了。 　　这个方案是有个前提是：热点账户在某几个高峰时间点需要缓冲记账来削峰填谷，并且能在日间填完。一旦账户的日间交易量暴增，导致日间队列根本来不及消化，整个队列越来越长，那就不存在谷可以填，这时候肯定会带来用户大量的投诉。另外这种方案对支出类业务（账户减钱）来讲，也会有账户透支地风险



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='577' height='521'></svg>)



### **4.子账户拆分**

具体来讲就是创建与热点账户对应的多个影子账户，所述影子账户与所述账户的数据结构相同，将所述影子账户设置为隐藏，并将所述账户的余额分散至各个影子账户。当账务系统接收到账务请求的时候，通过前置进行hash分配（具体的hash函数会有更多方案）选择影子账户进行记账，这样就将原来对一个账户的请求分散到多个影子账户中，分散了账务热点。 　　这个方案也有缺点：通过算法选择的影子账户扣款，影子账户的余额可能是不足的，但账户的总余额是够的，这样可能影响账务处理的成功率。



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='621' height='431'></svg>)



### **5.内存数据库+缓存入账**

提高单台数据库服务器处理能力（I/O,CPU,memory）或者选取内存数据库实时地处理记账请求，然后异步地存储到可靠数据库上。



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='606' height='461'></svg>)



### **6.升级服务硬件,对CPU内存等进行升级**



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='641' height='311'></svg>)



## **3：几种方案的对比**

**1：并发度控制**

对单个账户并发操作进行限流降级控制，使得系统健康的完成入账出账操作，但是在并发很高的情况下还是会杀死很多正常的冲扣功能，会极大的提高冲扣的失败率，所以对我们账务系统来说不是允许的。

**2：汇总明细入账**

对账户的冲扣操作已流水的形式记录下来，通过定时job来将出入账流水更新到业务表中。这种做法对于频繁的入账来说性能提高明显，但是因为没有对总金额进行校验，对支出类业务（账户减钱）类来说，有账户透支地风险。并且对于金额的校验需要通过流水数据和当前可用余额来判定，有并发问题，计算很难准确。并且我们实际线上业务是【频繁出账，低频入账】，所以此办法不可取。

**3：缓冲入账**

需要动态判断流量低峰高峰，维护请求队列，有账户透支地风险，并且异步请求中结果不可控。

**4：子账户拆分**

子账户拆分方案中对于子账户的扣款进行负载，可以满足对同一账户的高频访问负载到其子账户上，极大满足了并发的需求，子账户的余额可能是不足的，但账户的总余额是够的，这样可能影响账务处理的成功率，并且处理对子账户的扣款和入账来说需要做到金额相对平均比较复杂，对记录账户期初余额期末余额处理涉及到并发，相对复杂。

**5：增加硬件处理能力CPU.内存等**

备选方案,无法从根本上解决单点账户的并发压力。

**6：内存数据库实时地处理记账,异步入库**

使用redis做数据前置处理，将数据库中的热点账户金额初始同步到redis中，然后将操作记录流水，通过job定时任务刷新流水到业务表。这样将db和缓存分开极大的加大了并发性能，但是却衍生出来一个问题如下



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='791' height='431'></svg>)



假设redis初始金额为100，

（1） 当线程1对redis账户金额进行原子减操作时，剩余金额40,并记录流水表等待异步入账

（2） 当线程2对redis账户金额进行原子减操作时，剩余金额-20,此时金额已经为负，按照业务要求金额不能为负所以必须要做反向操作

（3） 当线程2还没有对redis余额进行反向操作维护的时候又出现线程3进行充值操作，此时金额又变成-20+100=80，已经出现金额混乱，对业务要求的期初余额期末余额无法准确的满足，所以对redis的金额进行同时冲扣会带来余额的并发问题。

但是对缓存进行操作和延迟批量流水入账可以极大的满足我们对性能的需求，所以在【**2.汇总明细记账**】和【**5.内存数据库+缓存入账**】的基础上进行改良来满足对我们的业务需求

## **4：详细方案设计**

**方案设计前提：**

（1）：【对账户的余额的更新】：准确的更新账户余额，不允许出现多扣，少扣等情况。

（2）：【对账户操作记录的更新】：准确的记录账户流水表中期初余额，期末余额，操作金额等情况，不允许出现任何的金额错误发生。

**前期准备:**

(1) ：新增延迟入账【流水表】，新增入账，出账数据先入【流水表】,通过定时任务将【流水表】入账和出账数据同步到业务数据表中，并且负责新增入账数据的缓存同步工作。

下面的方案会对此表统一称为【流水表】



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='771' height='851'></svg>)



(2) ：新增【redis】数据结构【[SortedSet（有序集合）](https://link.zhihu.com/?target=http%3A//redisdoc.com/sorted_set/index.html)】 key为【hotspot_account】

下面会对这个数据集合称为【缓存操作记录】

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='729' height='613'></svg>)



其中score为当前账户操作时间【新覆盖旧】,member为出入账的账户ID。key【hotspot_account】,所有账户的入账出账操作需要记录到hotspot_account中，主要是提供给【**图1中定时任务**】获取所有账户流水ID。

（3）新增【redis】数据结构【[SortedSet（有序集合）](https://link.zhihu.com/?target=http%3A//redisdoc.com/sorted_set/index.html)】 key为【hotspot_account_currentbalance】

下面会对这个数据集合称为【缓存余额】



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='835' height='613'></svg>)



其中：

score为当前账户可用余额，【热点账户新操作流程之前需要将数据库中热点账户的数据同步到hotspot_account_currentbalance中】

member为账户ID

到此，前期准备工作已经全部结束。

**当账户金额充值新增时:**

**1:记录redis操作记录【hotspot_account】**

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='729' height='613'></svg>)



如图所示红色数据部分，当账户**110000056666660010**入账时,插入或更新数据，member=**110000056666660010,**score为当前时间戳（秒）。

ps:操作指令【**ZINCRBY key increment member**】，当 key 不存在，或 member 不是 key 的成员时， ZINCRBY key increment member 等同于 ZADD key increment member 。

**2：新增【流水表】，设置入账状态为未入账**

![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='821' height='461'></svg>)



**当账户金额扣减时:**

1:同金额充值相同首先记录redis操作记录【hotspot_account】。

2:直接对缓存**hotspot_account_currentbalance**对应的金额进行扣减。



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1424' height='703'></svg>)



**3:定时任务**

定时任务的作用是将流水表的数据更新到【账户表】，和【流水明细表】，并且设置【流水表中】数据已入账，同时要将新入账数据流水到更新【hotspot_account_currentbalance】中的可用账户余额，让扣减操作得以继续进行。以下操作流程：



![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1449' height='2383'></svg>)





![img](data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='625' height='923'></svg>)





发布于 2019-07-22

[支付系统](https://www.zhihu.com/topic/19672062)

赞同 4

添加评论

分享

喜欢收藏申请转载



### 推荐阅读

- # 如何从零到1搭建支付账户清结算系统（3）

- 我们上一章说了，如何建立一个简单的支付系统，但是这里面只是说到了正常流程，如果出现异常怎么办？比如说如果支付渠道（银行，支付宝，微信）等长时间无返回的话？需要增加查询接口，是5…

- 傅斯翃

- # 如何从零到1搭建支付账户清结算系统（1）

- 这个系列文章既是对自己差不多近10年的工作总结，也是给给一些初级的电商的后端系统的一些搭建的建议。 这个系列的文章不涉及到很深的技术知识，也不是支付公司的系统介绍（任何一家支付公…

- 傅斯翃

- ![记一次支付系统的设计体验](https://pic1.zhimg.com/v2-578ce658ad9703b7ba39eebb9695706d_250x0.jpg?source=172ae18b)

- # 记一次支付系统的设计体验

- PingP...发表于账户系统 ...

- # 如何从零到1搭建支付账户清结算系统（2）

- 紧接着上一篇文章，那么我们有了最简单的支付系统去支撑整个购物的场景之后，我们来看看，除了支付订单系统之外，我们还需要什么东西。 1、客户在发起支付行为之后，如果订单消息没有返回，…

- 傅斯翃

## 还没有评论

写下你的评论...







发布


首发于[Java安全](https://www.zhihu.com/column/javasecurity)

写文章

# 风控系统资料大全

[![蓬蒿](https://pic4.zhimg.com/v2-e6a38f03d0e2807339c2c6ac42f254ee_xs.jpg?source=172ae18b)](https://www.zhihu.com/people/lu-xiao-tian-75)

[蓬蒿](https://www.zhihu.com/people/lu-xiao-tian-75)

IT男 信安

70 人赞同了该文章

51风控：[http://www.geek-make.com/%E9%A3%8E%E6%8E%A7/51%E4%BF%A1%E7%94%A8%E5%8D%A1%E9%87%91%E8%9E%8D%E9%A3%8E%E6%8E%A7%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97%E5%BC%95%E6%93%8E%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E8%B7%B5/](https://link.zhihu.com/?target=http%3A//www.geek-make.com/%E9%A3%8E%E6%8E%A7/51%E4%BF%A1%E7%94%A8%E5%8D%A1%E9%87%91%E8%9E%8D%E9%A3%8E%E6%8E%A7%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97%E5%BC%95%E6%93%8E%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E8%B7%B5/)

PostgreSQL——51风控系统背后的利器：[http://postgres.cn/news/viewone/1/360](https://link.zhihu.com/?target=http%3A//postgres.cn/news/viewone/1/360)

有赞风控：[http://www.geek-make.com/%E9%A3%8E%E6%8E%A7/%E6%9C%89%E8%B5%9E%E9%A3%8E%E6%8E%A7%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%AE%9E%E8%B7%B5-%E8%BD%AC/](https://link.zhihu.com/?target=http%3A//www.geek-make.com/%E9%A3%8E%E6%8E%A7/%E6%9C%89%E8%B5%9E%E9%A3%8E%E6%8E%A7%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E%E5%AE%9E%E8%B7%B5-%E8%BD%AC/)

有赞指标库：[https://blog.csdn.net/fuyipingwml1976124/article/details/105424419/?utm_medium=distribute.pc_relevant.none-task-blog-baidujs-5](https://link.zhihu.com/?target=https%3A//blog.csdn.net/fuyipingwml1976124/article/details/105424419/%3Futm_medium%3Ddistribute.pc_relevant.none-task-blog-baidujs-5)

携程风控：[https://juejin.im/entry/59e08cf2f265da430c10d58b](https://link.zhihu.com/?target=https%3A//juejin.im/entry/59e08cf2f265da430c10d58b)

京东风控：[https://www.infoq.cn/article/jingdong-risk-control-system-architecture-based-on-spark](https://link.zhihu.com/?target=https%3A//www.infoq.cn/article/jingdong-risk-control-system-architecture-based-on-spark)

天盾风控3.0:[https://www.infoq.cn/article/XWJ5t3bNdQCXQ6bIzhgX](https://link.zhihu.com/?target=https%3A//www.infoq.cn/article/XWJ5t3bNdQCXQ6bIzhgX)

Github风控资料汇总: [https://github.com/aalansehaiyang/risk-talk](https://link.zhihu.com/?target=https%3A//github.com/aalansehaiyang/risk-talk)

风控资料： [https://ixyzero.com/blog/archives/4270.html](https://link.zhihu.com/?target=https%3A//ixyzero.com/blog/archives/4270.html)

58集团： [https://mp.weixin.qq.com/s/KbFWf0wZeKqpfTsWE_caEw](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/KbFWf0wZeKqpfTsWE_caEw)

[https://plu.one/后端开发/2019/01/18/risk-system/](https://link.zhihu.com/?target=https%3A//plu.one/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/2019/01/18/risk-system/)

道客88：[http://www.doc88.com/p-9107402369584.html](https://link.zhihu.com/?target=http%3A//www.doc88.com/p-9107402369584.html)

阿里云规则引擎：[https://github.com/alibaba/QLExpress](https://link.zhihu.com/?target=https%3A//github.com/alibaba/QLExpress)

网易考拉海购风控：https://zhuanlan.zhihu.com/p/47472836

基于groovy实现的复杂布尔表达式规则引擎：

[http://www.geek-make.com/%E9%A3%8E%E6%8E%A7/%E5%9F%BA%E4%BA%8Egroovy%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%8D%E6%9D%82%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/www.geek-make.com](https://link.zhihu.com/?target=http%3A//www.geek-make.com/%E9%A3%8E%E6%8E%A7/%E5%9F%BA%E4%BA%8Egroovy%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%A4%8D%E6%9D%82%E5%B8%83%E5%B0%94%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%84%E5%88%99%E5%BC%95%E6%93%8E/)

全链路风控解决方案深度解读：

[全链路风控解决方案深度解读 - FreeBuf网络安全行业门户www.freebuf.com![图标](https://pic4.zhimg.com/v2-0d1b59cd3a6e043806fa0a15910bcf67_ipico.jpg)](https://link.zhihu.com/?target=https%3A//www.freebuf.com/column/215726.html)

基于规则的风控系统：

[https://jinfei21.github.io/2018/09/29/%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F/?spm=a2c4e.10696291.0.0.33fb19a4CqX8QQjinfei21.github.io](https://link.zhihu.com/?target=https%3A//jinfei21.github.io/2018/09/29/%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E9%A3%8E%E6%8E%A7%E7%B3%BB%E7%BB%9F/%3Fspm%3Da2c4e.10696291.0.0.33fb19a4CqX8QQ)



编辑于 2020-08-14

[大数据风控](https://www.zhihu.com/topic/20065854)

赞同 70

3 条评论

分享

喜欢收藏申请转载



### 文章被以下专栏收录

- [![Java安全](https://pic4.zhimg.com/v2-ccd41346f53b75e3a555faa309a80963_xs.jpg?source=172ae18b)](https://www.zhihu.com/column/javasecurity)

- ## [Java安全](https://www.zhihu.com/column/javasecurity)

- 仰天大笑出门去，我辈岂是蓬蒿人

### 推荐阅读

- # 风控专题--评分卡模型(内含代码)

- 作为倒逼输出，本文主要记录我在学习评分卡模型中涉及到的知识点和代码，希望专业的小伙伴多多补充。 评分卡模型简介评分卡模型是最常用的金融风控模型，它主要是根据客户的各种属性和行为…

- 980

- # 风控策略的具体案例

- 1、黑名单策略（分为内建和自建）：（1）、公安类数据，比如有不法犯罪记录、在逃人员等； （2）、失信被执行人名单（俗称老赖）； （3）、法院被执行人名单； （4）、工商税务类名单； （5…

- kk的风控...发表于金融风控学...

- # 小白转型信用分析师系列之——风控的数据分析维度从这入手

- 传统的信审人员，凭着传统的经验对客户的资质把关，信审分为审核跟审批，两者的职位互相把关，传统的信审岗都是由二道防线组成。在知识星球上，我们看到很多从信审要转型到为信用分析师的同…

- 番茄风控大数据

- # 金融风控实战之特征选择

- 本文是根据梅老师金融风控实战第四课（特征选择下），做的摘录和笔记。 业务中的模型中会遇到的问题：模型效果不好训练集效果好，跨时间测试效果不好跨时间测试效果也好，上线之后效果不好…

- kk的风控...发表于金融风控学...

## 3 条评论

切换为时间排序

写下你的评论...







发布

- [![omeweb](https://pic1.zhimg.com/4a49faa00_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/omeweb)[omeweb](https://www.zhihu.com/people/omeweb)2019-05-04

  最后一个，阿里云规则引擎，这个言过其实了呀。。。那是个表达式引擎。

  1回复踩 举报

- [![纷纷](https://pic1.zhimg.com/v2-92c18e647fe2d6818c680c5d01413088_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/fen-fen-46-95)[纷纷](https://www.zhihu.com/people/fen-fen-46-95)2020-02-24

  每次看都觉得震撼。

  赞回复踩 举报

- [![纷纷](https://pic1.zhimg.com/v2-92c18e647fe2d6818c680c5d01413088_s.jpg?source=06d4cd63)](https://www.zhihu.com/people/fen-fen-46-95)[纷纷](https://www.zhihu.com/people/fen-fen-46-95)2020-01-19

  谢谢分享。

  赞回复踩 举报


![广告](https://mat1.gtimg.com/rain/bailing20/91d6bb032b9d.cornor_gg.png)集成墙板批发，大型生产基地，来厂考察满意再合作！了解详情

[首页](https://xw.qq.com/)

新闻

[![更多频道](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIxLjE4OCAzLjc1SDIuODEzYS4xODguMTg4IDAgMCAwLS4xODguMTg4djEuNWMwIC4xMDMuMDg0LjE4Ny4xODguMTg3aDE4LjM3NWEuMTg4LjE4OCAwIDAgMCAuMTg3LS4xODh2LTEuNWEuMTg4LjE4OCAwIDAgMC0uMTg4LS4xODd6bTAgMTQuNjI1SDIuODEzYS4xODguMTg4IDAgMCAwLS4xODguMTg4djEuNWMwIC4xMDMuMDg0LjE4Ny4xODguMTg3aDE4LjM3NWEuMTg4LjE4OCAwIDAgMCAuMTg3LS4xODh2LTEuNWEuMTg4LjE4OCAwIDAgMC0uMTg4LS4xODd6bTAtNy4zMTNIMi44MTNhLjE4OC4xODggMCAwIDAtLjE4OC4xODh2MS41YzAgLjEwMy4wODQuMTg4LjE4OC4xODhoMTguMzc1YS4xODguMTg4IDAgMCAwIC4xODctLjE4OHYtMS41YS4xODguMTg4IDAgMCAwLS4xODgtLjE4OHoiIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPgo=)](https://xw.qq.com/m/s/sort)

# 终于有人把支付、结算、清算背后的故事讲清楚了！

[和讯网4年前 ](https://xw.qq.com/cmsid/2017072501353700)

来源：人人都是产品经理

第三方支付似乎早已成为市场热词，当广大人民群众都知其然的时候，这里想从银行端的视角来梳理梳理支付、结算、清算三姐妹的关系，在屏蔽相关细节、抛弃学院派的严谨的同时，试图用推测来还原我们在摇一摇、扫一扫背后大概的故事。故事不够推理来凑的同时，有跑偏的地方，也请不吝指出。

上篇：支付究竟是啥？

近年来，风声水起的第三方支付早已通过各种优惠支付场景从旧时王谢的堂前燕，走入了菜场阿姨、的士大叔的百姓家，小作坊大弄堂，冷不丁就会贴有支持支付宝和微信支付的标签，来拥抱几乎没啥习惯再携带现金的80、90、00后们。支付似乎是大家生活中绕不开的一个专业词汇了，然而，除了特定场景下的扫一扫动作，你真的了解支付么？让我们仅仅用逻辑来顺个藤，摸个瓜，推理下支付前后究竟发生了什么？

让我们仅仅用逻辑来顺个藤，摸个瓜，推理下支付前后究竟发生了什么？

最容易想到的，当然是资金的变动咯。最简单的场景，小明在全家买了个饭团饱腹，简单起见，假设花了5米银子，用的呢，是马叔叔的支付宝。假设饭团立马顺利进了小明的肚子（先不考虑退货退款流程），那显然这钱呢，是从小明的银行账户，跑到了全家的账户。

打开腾讯新闻，查看更多图片 >

作为交易的最终状态，这么说是没错，如果是现金交易一手交钱一手交货呢，这么着没有任何问题。然而小明没有现金，全家怎么做到收款呢，总不见得小明打个白条，让全家上银行提款吧，小明同意写，商家也不认呀~于是乎，我们有了下图无现金情况下更为熟知的版本~

小明刷了卡/扫码支付，全家据此打印收据，小明确认后走人。对小明来说，这图似乎圆满了。但是，从资金角度，无论是储值卡、银行卡、还是扫码支付，支付的端到端过程，才刚刚开始，即便单以支付论，也缺少了全家端的完整支付链。所以有了下图：

铺垫了这么久，支付还是支付，对小明来说，还真就是摇一摇、扫一扫、刷一刷，并通过手机短信、微信提醒感知到扣款的过程。对商户来说，也就是看到收据打印出来，确认资金到账的过程。冰山之下需要说的，还真不关支付什么事，而是所谓幕后的清算和结算。

中篇：结算究竟是啥？

结算是与支付联系更为紧密的环节，从人行有个专门的支付结算司就可见一斑。随着信息技术的发展和进化，支付和结算的概念似乎有所剥离，支付更为大众所熟知，或许不够严谨，简单理解，结算可以看作是以银行类的金融机构为主体视角，与公司、个人或者其他金融机构之间发生的专业化的后台结算行为。

以前述小明同学为例，在付款时，在他看来是支付，在他的开卡行来看是与小明之间发生的结算行为。对于全家来说，同理，收款行为从他们结算账户开户行的角度来看是明确的结算行为。而中间环节，还可能存在小明的开卡行、全家的开卡行、第三方支付机构的开户行、银联在各行对开账户的结算行为，为简化图例，将上述例子拆分成多种场景。

场景1：小明通过万通卡付款，假设万通卡的结算账户开在工商银行ICBC，全家的结算账户开立在中行。

则有下图（简便起见，假设这里没有资金到账的时间差）：

这里需要关注的是，万通卡的发卡机构，他家的备付金账户与他自有的结算账户是完全不同的概念，其中存有的金额是千千万万客户用真金白银换得的储值卡余额，而非他的自有资金，是要分账户核算的。

道理类似于我们在证券交易所的股票托管账户，跟证券公司的自营盘是要严格分开的，否则就老鼠仓了。另外，实际跨行转账方式有很多种，因交易金额、时效性条件的不同，分录也会有所不同，这里为方便理解，仅用最简单的示意性分录，下述场景同理。

场景2：小明通过招行信用卡刷卡支付，全家的结算账户依然在中行。

则有下图：

作为集万千银行宠爱于一身的银联，自出身起就自带联通各银行的平台化使命，鉴于银联既认识招行，又跟中行很熟，他通过自身在这两家行的账户，就完成了对小明和全家看来的到账工作。

至于说会不会出现因为招行业务发展太好，导致最后银联清算款项在招行账上大肆增加，而在中行账上不断减少，乃至透支呢？实际情况是上图还少了最终大BOSS人行支付系统，剧透一下清算部分的内容，大致情况是银联通过人行支付系统在招行和中行间完成资金调拨，从而只要根据业务情况总体把控好头寸，是不会出现一边倒的余额的。

场景3：小明通过支付宝将默认的付款账户设为招行信用卡，全家的结算账户仍为中行。

则有下图：

是否感觉跟场景2的图例非常类似？近几年在人行监管政策不断逐步放开的大背景下，随着支付宝、财富通等依托强大的电商、社交平台优势和资金沉淀，成为了商业银行眼中的香馍馍，促成了如图以支付宝为例的多银行快捷结算通道。明修栈道、暗度陈仓式的绕开了银联，而跨行间的账户管理，则可完全借势于人行的跨行支付体系。

而与银联不同的是，在电商业务背景下，在收到客户打款与商户收款存在合理的确认时间差的情况下，巨大资金沉淀产生的价值几乎是商业模式式的标杆性胜利。而在银行们拥抱支付宝们的同时，在银行对账单里，却看不到大数据时代最需要知晓的客户购买内容，是否下一个被修了栈道的是当下大而不倒的银行们？

无论是如上哪个场景，看到的都是在市场化竞争时代叠加互联网影响下，银行支付结算垄断地位的不断降低，商业的本质没变，但完成的工具和设计理念发生了巨大的变化，幕后与台前，思考和行动从来没有像现在这么重要过。

下篇：清算究竟是啥？

说到清算，应该算是三姐妹中，离市场最远，而离银行的基础设施最近的一个。说白了，就是一系列的脏活累活打包干，来确保最终客户端的支付结果的正确性。

银行作为资金的中介，最大的资产在于信用，最大的责任在于保障客户资金的安全性，最大的文化在于面对真金白银时的严谨态度。放在清算环节，那就是一系列的体制机制，来保障账务处理的正确性，能够应对各类异常情况，有条不紊的处理。所以在支付、结算端看来结果是金额变动的正确，在清算端是一系列的结算前、结算中、结算后处理及监控。只有说到清算，才会需要理解支付系统的基础设施的关键维度。抛开学院派的严谨，大致可以做如下画风清奇的理解：

其中清算系统及网络是清算星球，清算参与者是广大人民群众，清算标准语言是清算星球的官方语言，清算主要功能是清算政府的职能架构，幕后大BOSS是各国金融体系的大命脉-政府和央行。

先来看看清算系统及网络，抛开人行支付体系本身的层级和清结算关系，以全球化视角来看，支付清算系统的朋友圈大概是下图这样的：

这里有意忽略了支付系统之间的架构层级关系，各大大小小的金融机构，可以看作是分布在网络中的一个个土著居民。居民的账户之间要通信，总能通过常识来寻找最短的清算路径。如果是两家行都在中国且用的是人民币，则不会逃出大额支付、小额支付、超级网银的范畴。如果一家欧洲行和一家中国行在没有互相账户关系的情况下，则有可能在清算路径上既跨越某个欧洲的清算系统，踏过SWIFT网络，不远万里找到中国的收款对象。

清算星球是一个关系社会，是否混得如鱼得水取决于土著居民们的朋友圈厚度。有些居民含着金钥匙出身，自有一群寒门投递投名状，有些则凭借着清算政府的支持成为拥有特权的买办阶层。以境内外币支付小政府为例，示意图如下：

如果要办好事，首先要建立在对清算星球法制体系的熟悉和掌握上，这就对应了标准化的清算语言体系，报文规范、结算工作、结算方式，给进入清算星球建立了较高的准入门槛。

将清算标准语言用于清算星球的日常运作，就是清算职能的分布，虽然各大清算政府提供差异化的政策规章，宏观上看，还是整一个英雄所见略同，跳不出如来的五指山。

说回到上文结算场景中，银联或者支付宝，其在不同银行的账户，如果需要完成资金的调拨，真实对应的就是清算部分讲了这么长的故事。两家银行间大致要通过报文的发送，回执的接收，N*报文的接收+发送环节（N=报文经历的清算环节，假设A、B、C、D行，A和B是大行互相认识，C结拜了A，D结拜了B，那么C和D之间的转账，可能需要通过C-》A-》B-》D的过程），最终收款行的报文接收，支付处理。银行清算链条间小伙伴们的对账。如有差错和疑问，还要做好撤销、冲正、支付、退汇、查询查复（信息查询与确认）的操作。

鉴于清算涉及到账务处理的正确性，资金头寸的有效管理，从流程角度，往往每个部门职责都需要三个小伙伴，经办、复核和授权职责分离地有效完成。所以小小一个支付，银行扮演了幕后英雄的角色。

清算还是比较复杂的，这里只是浮光掠影地捋了捋大概的脉络，具体等回头有时间，可以慢慢整理一些专题出来专门讲讲。

小结

第三方支付也好，互联网也好，最可怕的在于银行对于信用信息、交易数据的垄断环境已经不复存在，技术某种意义上扮演了颠覆和融合的角色，于是，我们看到了很多原来银行才有的内部信息外化为了客户体验更好的支付宝账单、京东账单，支付的时效性、清算的时效性在市场化环境下，变更越来越清晰透明，客户对于服务体验的要求越来越高。互联网大佬们建立的互联网银行更是把这种山雨欲来风满楼推向了某种极致，银行积累几十年的流程和经验或许需要思考以一种更高效的方式，才能在新时代，找到未来发展的新契机。

文章来源：微信公众号贸易金融

分享好友

分享好友

![打开腾讯新闻，阅读全文](https://mat1.gtimg.com/rain/bailing20/9c69dbb2aec8.icon_down2.gif)

打开腾讯新闻，阅读全文

*广告*为什么体寒的女人容易胖！花5分钟改完3个恶习，看完不信你不瘦！*了解详情*

推荐阅读

[保底4连冠！广东新赛季必打爆辽宁，网友：杜锋完胜杨鸣！APP专享放诸四海而皆准4评4小时前](https://xw.qq.com/cmsid/2017072501353700)

[视频-塔图姆火力全开 连得五分奇才危在旦夕APP专享NBA4评4小时前](https://xw.qq.com/cmsid/2017072501353700)

[五年前，马英九苦口婆心，蔡英文淡淡一笑APP专享台海网4评4小时前](https://xw.qq.com/cmsid/2017072501353700)

[较真丨喜欢吃这种海鲜的朋友请注意：最近是中毒高发期APP专享较真4评4小时前](https://xw.qq.com/cmsid/2017072501353700)

[大清洗！巴萨向13位球星开刀，两大亿元巨星必须走APP专享体育全天候4评4小时前](https://xw.qq.com/cmsid/2017072501353700)

正在加载...

[发现更多资讯](https://xw.qq.com/)

打开

3631133内蒙古一副厅长留遗书自缢
2031554黄晓明否认离婚
1820227曹县是什么梗？

- [新闻](https://xw.qq.com/m/news)
- [体育](https://xw.qq.com/m/sports)
- [娱乐](https://xw.qq.com/m/ent)
- [财经](https://xw.qq.com/m/finance)
- [军事](https://xw.qq.com/m/mil)
- [本地](https://xw.qq.com/m/s/loc)
- [英超](https://xw.qq.com/m/premierleague)
- [视频](https://xw.qq.com/video)
- [NBA](https://xw.qq.com/m/nba)
- [CBA](https://xw.qq.com/m/cba)
- [游戏](https://xw.qq.com/m/games)
- [汽车](https://xw.qq.com/m/auto)
- [眼界](https://xw.qq.com/m/xperience)
- [国际](https://xw.qq.com/m/world)
- [抗疫](https://xw.qq.com/m/antip)
- [足球](https://xw.qq.com/m/football)
- [星座](https://xw.qq.com/m/astro)
- [书城](https://m.manyuedu.org/#fromsid=1)
- [手机](https://xw.qq.com/m/mobile)
- [数码](https://xw.qq.com/m/digi)
- [更多](https://xw.qq.com/m/s/sort)

[意见反馈](https://support.qq.com/products/14842?clientInfo=Mozilla%2F5.0 (Windows NT 10.0%3B Win64%3B x64) AppleWebKit%2F537.36 (KHTML%2C like Gecko) Chrome%2F90.0.4430.212 Safari%2F537.36&customInfo=href%3Dhttps%3A%2F%2Fxw.qq.com%2Fcmsid%2F2017072501353700)[举报中心](http://report.12377.cn:13225/toreportinputNormal_anis.do)[隐私政策](https://privacy.qq.com/yszc-m.htm)

Copyright © 1998 - 2021 Tencent. All Rights Reserved

[来说两句](https://xw.qq.com/c/coral/2044880547)

