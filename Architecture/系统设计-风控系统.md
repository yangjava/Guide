# 风控系统

主流风控决策引擎产品包含的核心功能模块，其中主要是规则、评分卡、表达式、模型、决策流等功能模块。
互联网金融的兴起，金融科技向传统金融渗透，智能风控平台应运而生。决策引擎担任着智能风控平台的核心角色，在当代的互联网金融浪潮中至关重要，在介绍决策引擎之前，首先要明白什么是大数据风控。

什么是大数据风控？
百度百科解释：大数据风控即大数据风险控制，是指通过运用大数据构建模型的方法对借款人进行风险控制和风险提示。

作为智能风控平台的核心工具，风控决策引擎在智能风控平台中起着至关重要的作用。

智能风控决策引擎实际上是一系列风控规则的集合，它集线上审批、用户信用评分及群体细分、信贷决策为一体，通过整合内部基础数据和外部海量数据，并进行数据加工、数据分析、数据挖掘，提炼出对风控决策有价值的信息。风控决策主要识别两种风险，即绝对风险与相对风险。对于绝对风险，决策引擎的输出结果是“拒绝”，即命中则拒绝；对于相对风险，决策引擎有两种输出结果：一类是风险评分，用于衡量风险大小，风险评分越高，风险越大；一类是信用评分，用于衡量信用资质，信用评分越高，资质越好。

风控决策引擎具有响应高效、稳定可靠等特点，并可设置不同角色进行分权限管理，风控规则配置灵活，支持多数据源调用，结合其业务统计报表等功能，极大地提升了自动化审批率及风险管理效率，为风控模型的打造、迭代提供更多助力。也就是：

1．规则、参数可配置：风控的核心思路是基于大量真实的样本数据，把逾期用户的特征提炼出来，并从概率学的角度上进行剔除，从而保证剩余用户群的逾期概率处于一个相对较低的区间。

在提炼数据与释放作用的过程中，会使用到“参数”的定义。随着业务的发展，数据样本与内容不断变化，可能会出现原本设定的参数过于严谨而导致审核通过率较低，或者是设定得过于宽松而导致逾期率较高，这就需要进行动态调整，也就要求风控决策引擎是可配置的。具体来说：

（1）非刚需与必要的风控规则要能“开关化”，对于一些并非关键作用的规则，设置“开关”可根据实际业务和用户群来灵活决定是否触发该规则。

（2）风控规则的分支、参数可灵活配置，合适的参数需要通过数据分析得出，需要在调整和验证的过程中逐渐形成。同时，“参数”要可以根据结果指标自动调整。

2．优先级执行：风控决策引擎是一堆风控规则的集合，通过不同的分支、层层规则的递进关系进行运算。实际运用中，如若已经触发绝对风险规则，结果必然是“拒绝”。这时，就不需要执行整套规则，可以节约大量的时间和性能成本。所以，需要根据以下的通用顺序来决定优先级执行。

（1）自有规则优先于外部规则运行。

（2）无成本或低成本的规则优先于高成本的规则运行。

（3）低性能消耗的规则优先于高性能消耗的规则运行。

3．规则及结果多样化：风控引擎中的规则有很多种类型，规则的“参数”决定了区间和上下限范围，有区间规则就必须有相应的多个结果。多样化的结果有助于风控引擎后期扩展，以满足不同业务使用场景的需要。

4．风控模型高度量化：风控建模需借助于函数的定义，此外也可以借助评分卡的机制进行补充。而评分卡的模式在另外一方面也作用于系统审核与人工信审，譬如高于X评分的订单申请，系统直接通过；处于X与Y之间的评分，则需人工审核，甚至通过电话联系；而低于Y评分的，则系统直接拒绝。

## 风控规则

### 规则优先级

风控决策引擎是一堆风控规则的集合，通过不同的分支、层层规则的递进关系进行运算。而既然是组合的概念，则在这些规则中，以什么样的顺序与优先级执行便额外重要。

风控系统的作用在于识别绝对风控与标识相对风险，如果是绝对风控，则整套风控的审核结果便将是“拒绝”。既然结果必然是“拒绝”，则没必要运行完所有的风控规则，而主要单条触发“拒绝”即可停止剩余规则的校验。因为所有规则的运行，是需要大量的时间、金钱与性能成本的。

所以，整套风控决策引擎的搭建设计思路，基于规则优先级运算的注意要点如下：

（1）**自有规则优先于外部规则运行**

举例说明：自有本地的黑名单库优先于外部的黑名单数据源运行，如果触发自有本地的黑名单则风控结果可直接终止及输出“拒绝”结论。

（2）**无成本或低成本的规则优先于高成本的规则运行**

举例说明：借款用户的身份特定不符合风控要求的，诸如低于18岁的用户，则可优先运行。而一些通过对接外部三方征信的风控规则，需支出相关查询费用的，则靠后运行。此外，在外部三方征信的规则中，命中式收费的风控规则（如黑名单与反欺诈）又可以优先于每次查询式收费的风控规则（如征信报告）运行。

（3）**消耗低性能的规则优先于高性能消耗的规则运行**

举例说明：直接基于用户现有属性的数值，如当前用户的民族是否非少数民族，则可优先运行。而一些风控规则，需借助爬虫接口，且需待将爬取到的数据经过二次加工与汇合之后，再对汇合的总值进行判断，如手机运营商账单中的月总通话分钟时长，则此类风控规则应后置运行。

### 风控可调整

风控的核心思路是基于大量真实的样本数据，将逾期用户的身份、行为与数据特征进行提炼，从概率学的角度上进行剔除，从而保障到剩余用户群的逾期概率处于一个相对较低的区间。而对数据的提炼与作用过程，将使用到“参数”的定义。“参数”决定了区间和上下限范围，一条风控规则通常作用于某一数据类型，依据此数值是否满足“参数”的定义范围，得出是否可通过风控的结论。

由于风控最终还是数据“喂出来”的结果，而非主观臆断的设限，故而，随着数据样本与内容的不断发展，必然将会涉及到一些动态的调整，后期可能会发现原本设定的“参数”过于严谨而导致审核通过较低，或者是设定得过于宽松而导致逾期率较高等。

所以，整个风控决策引擎的搭建设计思路，基于可调整与可维护的注意要点如下：

（1）**非刚需与必要的风控规则，能够“开关化**

举例说明：一些必要的风控规则，如用户的银行4要素验证是否一致性，这是必要规则，就无需可开关。而一些如校验用户的芝麻信用分是否高于500分，则可做成“开关”。待该规则上线后，可通过分析此项规则的触发率得出是否合理的判断。因为芝麻信用分是否可作为决策依据将主要取决于业务方向与用户群体，因为理论上芝麻信用分的高低主要与用户在芝麻信用体系内的数据绑定维度的多与少相关，并不一定绝对反映用户的信用程度。

（2）**风控规则上的“参数”可调整与灵活配置**

举例说明：很多风控体系通常会加入对手机运营商的校验，所以有一些风控规则，诸如校验用户手机号的使用时间长度是否大于6个月。其中的“6个月”便是所定义的参数，此处最好可调整与配置。因为去验证用户的稳定性，是否用“6个月”，还是用“3个月”的长度更合适？

具体合理的参数是需要通过数据分析的结论进行得出，如果由于定义“6个月”长度的要求而发现其他一些手机使用时长虽然短一些，并未与用户是否逾期形成直接必然因素，那么可将该参数放松调整到“3个月”。

### 记录与统计

风控最终到底是“跑出来”的，所以，整个风控系统对所有不同风控规则的触发需进行有效的记录与统计，以便后期可支持数据分析与风控模型调整的相关工作。

具体的记录与统计内容如下：

（1）**触发的具体风控规则**

举例说明：通过两种不同的视角进行记录，一是用户与订单层面，记录其所触发的明细规则；二是风控规则层面，记录某条风控规则具体的触发率。例如接了多家三方征信的反欺诈服务，通过比对这几家的触发效果，将反欺诈触发率较高的风控规则可前置执行。

（2）**风控规则所要求的“参数”**

举例说明：规则定义方向，参数定义标准。其中，包含相符的与不相符都要进行记录，即便此次风控规则并未触发，如果后期发现逾期率较高，则可通过反推此风控规则并结合逾期用户的数据特性，可判断是否需调整此“参数”。

（3）**数据源内容**

举例说明：某些风控规则是通过二次数据解析与汇总进行的，但原始数据需要进行保存，诸如手机账单的通话明细数据，此部分数据一是可作为风控规则使用，二是未来可用作于催收与贷后管理。

### 建模

风控体系的简单与复杂，视业务模式的开展而定。如果是固定额度与固定费率式的产品业务定价，则风控体系更多的是规则的集合。但若是有延伸的提额功能模块，与可根据用户前端不同的输入项数据，而输出与之相匹的不同的额度与费率的产品，则此时需要模型化。

风控建模需借助于函数的定义，此外也可以借助评分卡的机制进行补充。而评分卡的模式在另外一方面也作用于系统审核与人工信审，譬如高于X评分的订单申请，系统直接通过；处于X与Y之间的评分，则需人工审核，甚至通过电话联系；而低于Y评分的，则系统直接拒绝。

总而言之，风控的本质是数据，探索数据与数据之间关联关系，根据其演变的规律，为业务所用。消费金融与信贷领域的准入门槛在于风控，越是高额度的产品，对风控的要求越高。

## 风控数据来源

成熟的供应链金融风控体系包含三个层次：数据层、实践层、技术层。

其中：

数据层包括风控主数据的获取、风险数据的拓展、数据的维护；

实践层包括高效的在线审批、精准及时的事中风控；

技术层是指利用先进的模型科学地处理和分析数据，帮助预测和决策。

完善的风险主数据管理使风控数据维度更完整全面、信息提取更高效，避免人为因素干扰。

此外，风险数据的积累与沉淀为未来的风险建模打下坚实基础；基于IT系统的审批流程进一步减少人为因素影响，提升审批效率，而事中风险监控体系可以确保异常情况的及时处理；基于大数据分析的量化风险模型帮助企业充分利用数据资产，预测风险，是金融风险定价的基础。

首先我们需要厘清大数据的概念，当下各行各业都在探索大数据的价值，大数据的定义也很多。从技术的角度来理解，本质就是来自多个渠道和系统的结构化和非结构化数据，在金融领域，尤其是消费金融，我们界定大数据到底有哪些维度，其实芝麻信用分是一个非常典型例子，虽然不同公司有自己的分法，但数据主体大都可以归类为身份属性、信用属性、行为数据、消费属性、人脉关系这五大方面。

身份属性，这是最基础的，包括真实的身份信息、学历、就业经历等。

信用属性包含的方面比较多，比如过往的履约记录、固定资产、流动资产、收入等都会纳入进来用以衡量一个人还款能力和还款意愿。

过去我们去银行办理贷款，以上这两个维度就是传统风控的数据来源，但由于大多数人没有这方面比较完整的记录，且流程冗长麻烦，因此只有少部分人才能享受金融服务。

现在随着互联网的爆发式发展，以及普惠金融的崛起，越来越多的机构正将海量互联网数据和金融结合探索其在表征风险方面的价值。如上所述，长期缺乏金融产品的人群基数庞大，需求旺盛，因此从创业公司到BAT到金融机构，都在拓展更多领域的大数据以抢占消费金融爆发的窗口期。

数据拓展的第一个领域是消费属性，这块主要是电商或交易数据，比如日常购物商品、消费金额、消费时段等都可以从不同角度来分析出一个人消费稳定度，消费档次，还款能力等风险特征。

其次，人脉关系也是很重要的一个维度，俗话说“近朱者赤，近墨者黑”。很多时候你的微信朋友圈、经常打电话的朋友也反映了你在风险上的表征。生活中我们和同事沟通比较频繁，而如果一个人社交稳定度差，可能说明他经常换工作，显然风险也会相应增加。

最后一个维度是行为数据，这块数据涉及面比较广泛，主要是用户在APP上的活动所体现出的行为特点，包括浏览不同类目的频次、时间、风险偏好等等。

说到这，我们对大数据风控涉及的几类数据应该有了一个基本的认识，那在具体工作中，我们是不是应该先把这些数据都收集好才能做好工作呢？

答案是否定的，因为数据都是有成本的，开展一个金融业务，从数据、模型、服务再到最后的收益，更为关键的是业务本身的形态，再进一步扩展至产品、场景，我们会发现不同的场景面对不同的客群，风控关注的风险点都会有一定的差异，再反过来寻找能够表征这些风险点的数据也会有所侧重。因此，如果要厘清大数据风控该用哪些数据，首先要对风控场景有所了解，其中最为核心的是理解不同场景下要抓住哪些金融风险。

## 金融风险的理解

风险的概念比较大，为了给大家提供一个最基本的视角来了解，下面以线上信用贷款举例来阐述，这也是互联网消费金融最主要的方向之一。在这个场景下，我们面临的风险主要是信用风险和欺诈风险两块。

首先是欺诈风险，据数字，在中国，互联网金融50-70%的损失来自欺诈，这也可以说是风控业务中最困难的地方。造成这种现状的原因比较多，一方面是诸如现金贷类型的消费金融短期爆发式发展，大量创业公司涌入赛道以互联网获客运营的流量思路做金融，与此同时相应的风控经验和能力缺失，因此给专业的欺诈分子暴露了较大的风险敞口，通过简单研究业务规则漏洞，并通过互联网传播，可能带来较大的损失；另一方面也是欺诈产业链自身研究实力不断的完善有关，现在的欺诈已经从以往单一的个人欺诈演变为有组织、有规模的集团化欺诈，链条上盗号，数据泄露作为基础账号库，已衍生出一系列包括黑产交易、ID Mapping、定向攻击的完整产业链，其中的分工和技术也非常专业和精细化。

如图：这种设备称为养卡设备，俗称“猫池”，实际上就是一个号码卡插槽，可以在不拆卡的情况下将整张卡插到猫池里，连接电脑后使用，还可以接收短信验证码。现在在各种平台注册时都需要填写短信验证码，“刷手”为了获取平台的福利会利用猫池养卡，规避平台的身份确认短信。

再比如短信拦截马，这是一种可以拦截他人短信的木马，让被攻击者收不到短信，并将短信内容截取到攻击者手机上。这种木马最常见的是通过钓鱼、诱骗、欺诈等方式诱导用户安装，然后通过拦截转发用户短信内容，以此获取各种用户重要的个人隐私信息，如用户姓名、身份证号码、银行卡账户、支付密码及各种登录账号和密码等，造成这些信息的泄露，再利用此信息从而达到窃取用户资金的目的，严重威胁用户的财产安全。

第二块简单谈一下信用风险，其定义是借款者违约的风险，换句话说，也就是借款人因各种原因未能及时、足额偿还债务或贷款而违约的可能性。一般，我们会从还款能力和还款意愿两个角度去分析信用风险，但在小额信用贷场景中，由于额度一般为2000左右，少就几百，多也就5000，一个正常有工作的人很少会不具备按期还款的能力。所以在这点上我们更多的是从还款意愿角度来看，即借款人对偿还贷款的态度，现实中有不少人会借钱不还，这就是常说的“老赖”，如果我们以违约概率的目标去识别他，还是能挑出不少有正常借款意图的人。

## 大数据风控体系的初步构建

现在我们有了对大数据和风险的基本认知，但如何真正从大数据提炼出风险表征，并进一步转化为实时的金融风险决策服务呢？事实上，这需要重构一整套风控数据架构体系，过去[传统金融](https://www.baidu.com/s?wd=传统金融&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)机构在身份属性和信用属性的数据上沉淀了丰富知识，但在互联网金融业务中，用户能够关联的更多是消费、社交和行为类数据，且越是小额分散的业务，数据的金融属性越弱。近两年小额现金贷也正是由于这部分数据的风控知识体系缺乏，因此陷入高利率覆盖高坏账、暴力催收等乱象。

随着监管趋严和行业愈加规范化，大数据风控，尤其是基于弱数据的风控正成为线上信用贷业务最重要的[核心竞争力](https://www.baidu.com/s?wd=核心竞争力&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd)，除了基本的身份验证、合规、黑灰名单、规则过滤以外，要防控欺诈风险和信用风险，还需做好以下三个维度的准备：

第一是设备层面，现在成熟的APP都需要辟如更换登录设备时重新输入短信验证码，或者登录时得手动滑动验证码等，这些既是挡住黑产的第一道关，也是后续风控的重要数据基础。

第二是知识体系层面，拆解开来看，核心有2点，一是知识工程，二是模型。目前最领先的消金机构都有一套相对成熟的针对特定数据domain的风险特征库和分客群、分目标的模型，比如反欺诈模型、申请评分模型、风险行为预测模型等，贷后还会有催收模型、客户流失预测模型等。在这过程中，引入AI处理弱数据，并在大量样本上不断迭代模型是关键。

第三是系统层面，试想我们有了清晰的数据认知，结合到场景和风险理解我们也摸索了一套经验证的数据使用方式，但如何与我们的业务系统对接，成为实时的数据服务？这还需要一个完整的支持数据接入、加工处理、得出结果以及监控管理的在线引擎。随着线上个人贷款规模的爆发式增长，控制风险、解放人力已成为最紧迫的需求，数据智能自动化引擎是机构“跑起来”的强大推动力。

## 风控与征信

最后，简单谈一下大数据风控和征信的区别，不少同学会认为风控公司就是征信公司，这其中还是有较大区别的，尤其在大数据领域。 

据百科，**征信是专业化的、独立的第三方机构为个人或企业建立信用档案，依法采集、客观记录其信用信息，并依法对外提供信用信息服务的一种活动，它为专业化的授信机构提供了信用信息共享的平台。**

应该看到，征信所对应的数据还局限在开头所说的身份属性和信用属性范围，也就是强金融数据，而大数据风控认为所有数据都是风险数据，更侧重于将弱数据金融化，再提炼出风险表征。因此，征信本质是大数据风控的子集，覆盖的人群和应用领域也更为狭窄。当下大数据风控和征信的确还处于混业经营的状态，但随着行业发展，可预见市场还会逐渐细分，届时前者将更注重在数据生态体系上的经验和沉淀，后者则侧重在独立性和公信力以及监管合规等方面。